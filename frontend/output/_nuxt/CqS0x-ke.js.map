{"version":3,"file":"CqS0x-ke.js","sources":["../../../../components/ui/DarkModeToggle.vue","../../../../components/ui/UserDropdown.vue","../../../../components/ui/BottomNavBar.vue"],"sourcesContent":["<template>\r\n  <button\r\n      @click=\"toggleDark\"\r\n      class=\"transition hover:text-yellow-500 dark:hover:text-yellow-300\"\r\n      :title=\"isDark ? 'Switch to Light Mode' : 'Switch to Dark Mode'\"\r\n      aria-label=\"Toggle Dark Mode\"\r\n  >\r\n    <Icon v-if=\"!isDark\" name=\"bi:moon-fill\" width=\"20\" height=\"20\" />\r\n    <Icon v-else name=\"bi:brightness-high-fill\" width=\"20\" height=\"20\" />\r\n  </button>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue'\r\n\r\nconst isDark = ref(false)\r\n\r\nfunction toggleDark() {\r\n  isDark.value = !isDark.value\r\n  const html = document.documentElement\r\n  html.classList.toggle('dark', isDark.value)\r\n  localStorage.setItem('theme', isDark.value ? 'dark' : 'light')\r\n}\r\n\r\nonMounted(() => {\r\n  const saved = localStorage.getItem('theme')\r\n  if (saved === 'dark') {\r\n    isDark.value = true\r\n    document.documentElement.classList.add('dark')\r\n  } else if (saved === 'light') {\r\n    isDark.value = false\r\n    document.documentElement.classList.remove('dark')\r\n  } else {\r\n    isDark.value = window.matchMedia('(prefers-color-scheme: dark)').matches\r\n    document.documentElement.classList.toggle('dark', isDark.value)\r\n  }\r\n})\r\n</script>\r\n","<template>\r\n  <div ref=\"dropdownRef\" v-if=\"user\" class=\"relative\">\r\n    <!-- User button -->\r\n    <button\r\n        @click=\"toggleDropdown\"\r\n        class=\"flex items-center gap-2 px-2 py-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition\"\r\n    >\r\n\r\n      <NuxtImg :src=\"user.avatar\" loading=\"lazy\" class=\"w-8 h-8 rounded-full\" :alt=\"user.name\" />\r\n      <span class=\"hidden sm:block font-medium text-sm text-gray-800 dark:text-white\">\r\n        {{ user.name }}\r\n      </span>\r\n      <Icon name=\"mdi:chevron-down\" class=\"w-4 h-4 text-gray-600 dark:text-gray-300\" />\r\n    </button>\r\n\r\n    <!-- Dropdown Menu -->\r\n    <div\r\n        v-if=\"dropdownOpen\"\r\n        class=\"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl ring-1 ring-black/5 z-50 overflow-hidden\"\r\n    >\r\n      <!-- Back to Home / Dashboard -->\r\n      <NuxtLink\r\n          v-if=\"isDashboard\"\r\n          to=\"/\"\r\n          class=\"dropdown-item\"\r\n      >\r\n        <Icon name=\"mdi:home-outline\" class=\"w-4 h-4\" />\r\n        <span>Back to Home</span>\r\n      </NuxtLink>\r\n      <NuxtLink\r\n          v-else\r\n          to=\"/dashboard\"\r\n          class=\"dropdown-item\"\r\n      >\r\n        <Icon name=\"mdi:view-dashboard-outline\" class=\"w-4 h-4\" />\r\n        <span>Back to Dashboard</span>\r\n      </NuxtLink>\r\n\r\n      <!-- Profile -->\r\n      <NuxtLink\r\n          to=\"/dashboard/account\"\r\n          class=\"dropdown-item\"\r\n      >\r\n        <Icon name=\"mdi:account-outline\" class=\"w-4 h-4\" />\r\n        <span>Profile</span>\r\n      </NuxtLink>\r\n\r\n      <!-- Divider -->\r\n      <div class=\"border-t border-gray-200 dark:border-gray-700 my-1\" />\r\n\r\n      <!-- Logout -->\r\n      <button\r\n          @click=\"logoutUser\"\r\n          class=\"dropdown-item text-red-600 hover:bg-red-50 dark:hover:bg-red-900/40\"\r\n      >\r\n        <Icon name=\"mdi:logout\" class=\"w-4 h-4\" />\r\n        <span>Logout</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, onUnmounted, computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { useSanctum } from '#imports'\r\n\r\ninterface User {\r\n  name: string\r\n  email: string\r\n  avatar: string\r\n}\r\n\r\nconst { user, logout } = useSanctum<User>()\r\nconst route = useRoute()\r\n\r\nconst dropdownOpen = ref(false)\r\nconst dropdownRef = ref<HTMLElement | null>(null)\r\n\r\nfunction toggleDropdown() {\r\n  dropdownOpen.value = !dropdownOpen.value\r\n}\r\n\r\nfunction logoutUser() {\r\n  logout()\r\n  dropdownOpen.value = false\r\n}\r\n\r\n// âœ… Detect click outside to close dropdown\r\nfunction handleClickOutside(event: MouseEvent) {\r\n  if (\r\n      dropdownRef.value &&\r\n      !dropdownRef.value.contains(event.target as Node)\r\n  ) {\r\n    dropdownOpen.value = false\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  document.addEventListener('click', handleClickOutside)\r\n})\r\n\r\nonUnmounted(() => {\r\n  document.removeEventListener('click', handleClickOutside)\r\n})\r\n\r\nconst isDashboard = computed(() => route.path.startsWith('/dashboard'))\r\n</script>\r\n\r\n<style scoped>\r\n.dropdown-item {\r\n  @apply flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors w-full text-left;\r\n}\r\n</style>\r\n","<template>\r\n  <!-- Mobile Bottom Navigation -->\r\n  <nav v-if=\"isLoggedIn\" class=\"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 flex justify-around items-center h-16 md:hidden z-50 shadow-lg\">\r\n    <button\r\n        v-for=\"tab in tabs\"\r\n        :key=\"tab.name\"\r\n        @click=\"navigate(tab.to)\"\r\n        class=\"flex flex-col items-center justify-center text-center flex-1 transition-colors\"\r\n        :class=\"activeTab === tab.to ? 'text-blue-600 dark:text-blue-400' : 'text-gray-500 dark:text-gray-400'\"\r\n    >\r\n      <div class=\"relative\">\r\n        <Icon :name=\"tab.icon\" class=\"w-6 h-6\" />\r\n        <span\r\n            v-if=\"tab.badge\"\r\n            class=\"absolute -top-1 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center\"\r\n        >\r\n          {{ tab.badge }}\r\n        </span>\r\n      </div>\r\n      <span class=\"text-xs mt-1\">{{ tab.label }}</span>\r\n    </button>\r\n  </nav>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useSanctum } from '#imports'\r\n\r\nconst { user } = useSanctum()\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst { isLoggedIn } = useSanctum()\r\n\r\nconst activeTab = computed(() => {\r\n  const path = route.path\r\n  if (path.startsWith('/dashboard/orders') || path.startsWith('/cart')) return '/dashboard/orders'\r\n  if (path.startsWith('/category')) return '/category'\r\n  if (path.startsWith('/dashboard/account')) return '/dashboard/account'\r\n  return '/dashboard'\r\n})\r\n\r\nconst tabs = computed(() => {\r\n  const t = [\r\n    { name: 'home', to: '/dashboard', label: 'Home', icon: 'mdi:view-dashboard-outline' },\r\n    { name: 'shop', to: '/category', label: 'Shop', icon: 'mdi:cart-outline' },\r\n    { name: 'orders', to: '/dashboard/orders', label: 'Orders', icon: 'mdi:clipboard-list-outline' },\r\n    { name: 'wallet', to: '/dashboard/wallet', label: 'Wallet', icon: 'mdi:account-outline' },\r\n    { name: 'account', to: '/dashboard/account', label: 'Account', icon: 'mdi:account-outline' },\r\n  ]\r\n\r\n  if (user.value?.status?.toLowerCase() === 'draft') {\r\n    t.push({ name: 'subscribe', to: '/dashboard/subscribe-now', label: 'Subscribe', icon: 'mdi:star-outline', badge: 'New' })\r\n  }\r\n\r\n  return t\r\n})\r\n\r\nfunction navigate(to: string) {\r\n  router.push(to).catch((err) => {\r\n    if (err.name !== 'NavigationDuplicated') console.error(err)\r\n  })\r\n}\r\n</script>\r\n"],"names":["isDark","ref","toggleDark","onMounted","saved","_createElementBlock","_createBlock","_component_Icon","user","logout","useSanctum","route","useRoute","dropdownOpen","dropdownRef","toggleDropdown","logoutUser","handleClickOutside","event","onUnmounted","isDashboard","computed","_unref","_createElementVNode","_createVNode","_component_NuxtImg","_hoisted_1","_toDisplayString","_openBlock","_hoisted_2","_component_NuxtLink","_cache","router","useRouter","isLoggedIn","activeTab","path","tabs","t","_b","_a","navigate","to","err","_Fragment","_renderList","tab","$event","_hoisted_3","_hoisted_4","_hoisted_5"],"mappings":"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"}