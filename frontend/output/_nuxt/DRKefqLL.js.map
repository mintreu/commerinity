{"version":3,"file":"DRKefqLL.js","sources":["../../../../pages/dashboard/orders/[uuid]/checkout.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { useRoute } from 'vue-router'\r\nimport { useRuntimeConfig, useSanctumFetch } from '#imports'\r\nimport { ref, onMounted, computed } from 'vue'\r\n\r\nconst config = useRuntimeConfig()\r\nconst route = useRoute()\r\n\r\nconst order = ref<any>(null)\r\nconst isLoading = ref(true)\r\n\r\nasync function fetchOrder() {\r\n  try {\r\n    isLoading.value = true\r\n    const res: any = await useSanctumFetch(\r\n        `${config.public.apiBase}/orders/${route.params.uuid}`,\r\n        { method: 'GET' }\r\n    )\r\n    order.value = res?.data\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\nonMounted(fetchOrder)\r\n\r\n// --- Computed states ---\r\nconst isSuccess = computed(() => {\r\n  if (!order.value) return false\r\n  return order.value.is_paid === 1 || order.value.transaction?.status === 'success'\r\n})\r\n\r\nconst isFailure = computed(() => {\r\n  if (!order.value) return false\r\n  return order.value.is_paid === 0 && ['failed', 'cancelled'].includes(order.value.transaction?.status)\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"w-full h-full flex items-center justify-center p-8\">\r\n    <div v-if=\"isLoading\" class=\"text-center\">\r\n      <p class=\"text-gray-600 dark:text-gray-300\">Loading order details...</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"order\" class=\"max-w-lg w-full text-center space-y-6\">\r\n      <!-- Success Case -->\r\n      <template v-if=\"isSuccess\">\r\n        <div class=\"flex justify-center\">\r\n          <Icon name=\"heroicons:check-circle\" class=\"w-16 h-16 text-green-600\" />\r\n        </div>\r\n        <h1 class=\"text-2xl font-semibold text-gray-900 dark:text-gray-100\">\r\n          Payment Successful üéâ\r\n        </h1>\r\n        <p class=\"text-gray-600 dark:text-gray-300\">\r\n          Thank you for your order! Your payment has been confirmed.\r\n        </p>\r\n      </template>\r\n\r\n      <!-- Failure Case -->\r\n      <template v-else-if=\"isFailure\">\r\n        <div class=\"flex justify-center\">\r\n          <Icon name=\"heroicons:x-circle\" class=\"w-16 h-16 text-red-600\" />\r\n        </div>\r\n        <h1 class=\"text-2xl font-semibold text-gray-900 dark:text-gray-100\">\r\n          Payment Failed ‚ùå\r\n        </h1>\r\n        <p class=\"text-gray-600 dark:text-gray-300\">\r\n          Unfortunately, your payment was not processed.\r\n        </p>\r\n      </template>\r\n\r\n      <!-- Pending/Other Case -->\r\n      <template v-else>\r\n        <div class=\"flex justify-center\">\r\n          <Icon name=\"heroicons:clock\" class=\"w-16 h-16 text-yellow-600\" />\r\n        </div>\r\n        <h1 class=\"text-2xl font-semibold text-gray-900 dark:text-gray-100\">\r\n          Payment Pending ‚è≥\r\n        </h1>\r\n        <p class=\"text-gray-600 dark:text-gray-300\">\r\n          Your payment is still pending. Please complete it soon.\r\n        </p>\r\n      </template>\r\n\r\n      <!-- Minimal Order Info -->\r\n      <div\r\n          class=\"p-4 rounded-lg border bg-white dark:bg-gray-900 dark:border-gray-700 text-left space-y-2\"\r\n      >\r\n        <p><span class=\"font-semibold\">Order ID:</span> {{ order.uuid }}</p>\r\n        <p><span class=\"font-semibold\">Amount:</span> {{ order.amount }}</p>\r\n        <p><span class=\"font-semibold\">Status:</span> {{ order.status }}</p>\r\n      </div>\r\n\r\n      <!-- Actions -->\r\n      <div class=\"flex flex-col sm:flex-row justify-center gap-3 mt-6\">\r\n        <NuxtLink\r\n            :to=\"`/orders/${order.uuid}`\"\r\n            class=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700\"\r\n        >\r\n          View Order\r\n        </NuxtLink>\r\n\r\n        <NuxtLink\r\n            to=\"/\"\r\n            class=\"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600\"\r\n        >\r\n          Continue Shopping\r\n        </NuxtLink>\r\n\r\n        <!-- Retry only if failed -->\r\n        <button\r\n            v-if=\"isFailure && order.transaction?.uuid\"\r\n            @click=\"window.location.href = `${config.public.apiBase}/checkout/${order.transaction.uuid}`\"\r\n            class=\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700\"\r\n        >\r\n          Retry Payment\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n</style>\r\n"],"names":["config","useRuntimeConfig","route","useRoute","order","ref","isLoading","fetchOrder","res","useSanctumFetch","onMounted","isSuccess","computed","_a","isFailure","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_cache","_createElementVNode","_hoisted_3","_Fragment","_hoisted_4","_createVNode","_component_Icon","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","_component_NuxtLink","window","_unref"],"mappings":"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"}