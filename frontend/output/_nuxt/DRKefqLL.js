import{b4 as S,bd as x,ba as T,by as m,aY as o,bg as v,b5 as t,be as c,aZ as d,b7 as u,b8 as y,bt as k,b9 as E,bo as I,aW as C,bJ as D,a_ as r,bc as N}from"./B132AJ_X.js";import{_ as P}from"./CzGapVpC.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};n.SENTRY_RELEASE={id:"3703708ef9ac1b45e23fc2a6a145a79341d4c60a"}}catch{}})();try{(function(){var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},l=new n.Error().stack;l&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[l]="927f4332-c5ed-4e26-aba2-3b47f0a4b6a5",n._sentryDebugIdIdentifier="sentry-dbid-927f4332-c5ed-4e26-aba2-3b47f0a4b6a5")})()}catch{}const $={class:"w-full h-full flex items-center justify-center p-8"},j={key:0,class:"text-center"},B={key:1,class:"max-w-lg w-full text-center space-y-6"},R={class:"flex justify-center"},V={class:"flex justify-center"},F={class:"flex justify-center"},L={class:"p-4 rounded-lg border bg-white dark:bg-gray-900 dark:border-gray-700 text-left space-y-2"},Y={class:"flex flex-col sm:flex-row justify-center gap-3 mt-6"},J=S({__name:"checkout",setup(n){const l=C(),w=D(),s=x(null),i=x(!0);async function _(){try{i.value=!0;const a=await I(`${l.public.apiBase}/orders/${w.params.uuid}`,{method:"GET"});s.value=a==null?void 0:a.data}finally{i.value=!1}}T(_);const h=m(()=>{var a;return s.value?s.value.is_paid===1||((a=s.value.transaction)==null?void 0:a.status)==="success":!1}),g=m(()=>{var a;return s.value?s.value.is_paid===0&&["failed","cancelled"].includes((a=s.value.transaction)==null?void 0:a.status):!1});return(a,e)=>{var p;const f=N,b=P;return r(),o("div",$,[i.value?(r(),o("div",j,e[1]||(e[1]=[t("p",{class:"text-gray-600 dark:text-gray-300"},"Loading order details...",-1)]))):s.value?(r(),o("div",B,[h.value?(r(),o(c,{key:0},[t("div",R,[d(f,{name:"heroicons:check-circle",class:"w-16 h-16 text-green-600"})]),e[2]||(e[2]=t("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"}," Payment Successful 🎉 ",-1)),e[3]||(e[3]=t("p",{class:"text-gray-600 dark:text-gray-300"}," Thank you for your order! Your payment has been confirmed. ",-1))],64)):g.value?(r(),o(c,{key:1},[t("div",V,[d(f,{name:"heroicons:x-circle",class:"w-16 h-16 text-red-600"})]),e[4]||(e[4]=t("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"}," Payment Failed ❌ ",-1)),e[5]||(e[5]=t("p",{class:"text-gray-600 dark:text-gray-300"}," Unfortunately, your payment was not processed. ",-1))],64)):(r(),o(c,{key:2},[t("div",F,[d(f,{name:"heroicons:clock",class:"w-16 h-16 text-yellow-600"})]),e[6]||(e[6]=t("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"}," Payment Pending ⏳ ",-1)),e[7]||(e[7]=t("p",{class:"text-gray-600 dark:text-gray-300"}," Your payment is still pending. Please complete it soon. ",-1))],64)),t("div",L,[t("p",null,[e[8]||(e[8]=t("span",{class:"font-semibold"},"Order ID:",-1)),u(" "+y(s.value.uuid),1)]),t("p",null,[e[9]||(e[9]=t("span",{class:"font-semibold"},"Amount:",-1)),u(" "+y(s.value.amount),1)]),t("p",null,[e[10]||(e[10]=t("span",{class:"font-semibold"},"Status:",-1)),u(" "+y(s.value.status),1)])]),t("div",Y,[d(b,{to:`/orders/${s.value.uuid}`,class:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700"},{default:k(()=>e[11]||(e[11]=[u(" View Order ")])),_:1,__:[11]},8,["to"]),d(b,{to:"/",class:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600"},{default:k(()=>e[12]||(e[12]=[u(" Continue Shopping ")])),_:1,__:[12]}),g.value&&((p=s.value.transaction)!=null&&p.uuid)?(r(),o("button",{key:0,onClick:e[0]||(e[0]=O=>a.window.location.href=`${E(l).public.apiBase}/checkout/${s.value.transaction.uuid}`),class:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700"}," Retry Payment ")):v("",!0)])])):v("",!0)])}}});export{J as default};
