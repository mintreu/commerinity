{"version":3,"file":"CIdJCNou.js","sources":["../../../../pages/dashboard/orders/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-full h-full flex flex-col\">\r\n    <GlobalLoader v-if=\"isLoading\" />\r\n    <div v-else class=\"p-4 sm:p-8 lg:p-12\">\r\n      <h1 class=\"text-2xl sm:text-3xl lg:text-4xl font-semibold mb-6 text-gray-900 dark:text-gray-100\">\r\n        My Orders\r\n      </h1>\r\n\r\n      <!-- Filters -->\r\n      <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">Status</label>\r\n          <select v-model=\"filters.status\"\r\n                  class=\"w-full border rounded-lg px-3 py-2 bg-white dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700\">\r\n            <option value=\"\">All</option>\r\n            <option v-for=\"status in orderStatuses\" :key=\"status.value\" :value=\"status.value\">\r\n              {{ status.label }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">From Date</label>\r\n          <input type=\"date\" v-model=\"filters.from_date\"\r\n                 class=\"w-full border rounded-lg px-3 py-2 bg-white dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700\" />\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">To Date</label>\r\n          <input type=\"date\" v-model=\"filters.to_date\"\r\n                 class=\"w-full border rounded-lg px-3 py-2 bg-white dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700\" />\r\n        </div>\r\n\r\n        <div class=\"flex items-end\">\r\n          <button @click=\"applyFilters\"\r\n                  class=\"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\">\r\n            Apply\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Orders List -->\r\n      <div class=\"space-y-4\">\r\n        <!-- Inside your v-for loop of orders -->\r\n        <div v-for=\"order in orders\" :key=\"order.uuid\"\r\n             class=\"p-4 rounded-xl border bg-white dark:bg-gray-900 dark:border-gray-700 shadow-sm\">\r\n          <div class=\"flex justify-between items-start\">\r\n            <div>\r\n              <p class=\"text-sm text-gray-500 dark:text-gray-400\">Order ID</p>\r\n              <p class=\"font-mono text-gray-800 dark:text-gray-100\">{{ order.uuid }}</p>\r\n            </div>\r\n            <span :class=\"['status-badge', statusClass(order.status)]\">\r\n      <Icon :name=\"statusIcon(order.status)\" class=\"w-4 h-4\" />\r\n      {{ statusLabel(order.status) }}\r\n    </span>\r\n          </div>\r\n\r\n          <div class=\"mt-3 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2\">\r\n            <div class=\"flex gap-6\">\r\n              <div>\r\n                <p class=\"text-sm text-gray-500 dark:text-gray-400\">Quantity</p>\r\n                <p class=\"font-semibold text-gray-800 dark:text-gray-100\">{{ order.quantity }}</p>\r\n              </div>\r\n              <div>\r\n                <p class=\"text-sm text-gray-500 dark:text-gray-400\">Date</p>\r\n                <p class=\"font-semibold text-gray-800 dark:text-gray-100\">{{ formatDate(order.created_at) }}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- View CTA -->\r\n            <NuxtLink :to=\"`/dashboard/orders/${order.uuid}`\"\r\n                      class=\"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium bg-blue-600 text-white hover:bg-blue-700\">\r\n              <Icon name=\"heroicons:eye\" class=\"w-4 h-4 mr-1\" />\r\n              View\r\n            </NuxtLink>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <!-- Pagination -->\r\n      <div class=\"flex justify-between items-center mt-6 text-gray-800 dark:text-gray-200\">\r\n        <button :disabled=\"!pagination.prev_page_url\" @click=\"changePage(pagination.current_page - 1)\"\r\n                class=\"px-4 py-2 rounded-lg border dark:border-gray-700 disabled:opacity-50\">\r\n          Previous\r\n        </button>\r\n\r\n        <span>Page {{ pagination.current_page }} of {{ pagination.last_page }}</span>\r\n\r\n        <button :disabled=\"!pagination.next_page_url\" @click=\"changePage(pagination.current_page + 1)\"\r\n                class=\"px-4 py-2 rounded-lg border dark:border-gray-700 disabled:opacity-50\">\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { useRuntimeConfig, useSanctumFetch } from '#imports'\r\nimport { onMounted, ref } from 'vue'\r\nimport GlobalLoader from '~/components/GlobalLoader.vue'\r\n\r\nconst config = useRuntimeConfig()\r\nconst isLoading = useState('pageLoading', () => false)\r\n\r\nconst orders = ref<any[]>([])\r\nconst pagination = ref<any>({})\r\nconst filters = ref({\r\n  status: '',\r\n  from_date: '',\r\n  to_date: '',\r\n})\r\n\r\nconst orderStatuses = [\r\n  { value: 'processing', label: 'Processing', icon: 'heroicons:arrow-path', class: 'status-yellow' },\r\n  { value: 'pending', label: 'Pending', icon: 'heroicons:clock', class: 'status-blue' },\r\n  { value: 'payment_failed', label: 'Payment Failed', icon: 'heroicons:x-circle', class: 'status-red' },\r\n  { value: 'confirm', label: 'Confirm', icon: 'heroicons:check-circle', class: 'status-green' },\r\n  { value: 'review', label: 'Review', icon: 'heroicons:eye', class: 'status-purple' },\r\n  { value: 'accepted', label: 'Accepted', icon: 'heroicons:check', class: 'status-orange' },\r\n  { value: 'ready_to_ship', label: 'Ready To Ship', icon: 'heroicons:truck', class: 'status-teal' },\r\n  { value: 'in_transit', label: 'In Transit', icon: 'heroicons:arrow-path', class: 'status-gray' },\r\n  { value: 'completed', label: 'Completed', icon: 'heroicons:badge-check', class: 'status-green' },\r\n  { value: 'cancelled', label: 'Cancelled', icon: 'heroicons:ban', class: 'status-red' },\r\n  { value: 'refunded', label: 'Refunded', icon: 'heroicons:arrow-uturn-left', class: 'status-blue' },\r\n]\r\n\r\nfunction statusLabel(status: string) {\r\n  return orderStatuses.find(s => s.value === status)?.label || status\r\n}\r\nfunction statusIcon(status: string) {\r\n  return orderStatuses.find(s => s.value === status)?.icon || 'heroicons:question-mark-circle'\r\n}\r\nfunction statusClass(status: string) {\r\n  return orderStatuses.find(s => s.value === status)?.class || 'status-gray'\r\n}\r\n\r\nasync function fetchOrders(page = 1) {\r\n  try {\r\n    isLoading.value = true\r\n    let url = `${config.public.apiBase}/orders?page=${page}`\r\n\r\n    if (filters.value.status) url += `&status=${filters.value.status}`\r\n    if (filters.value.from_date) url += `&from_date=${filters.value.from_date}`\r\n    if (filters.value.to_date) url += `&to_date=${filters.value.to_date}`\r\n\r\n    const res: any = await useSanctumFetch(url, { method: 'GET' })\r\n\r\n    if (res?.data) {\r\n      orders.value = res.data\r\n      pagination.value = res.meta\r\n    }\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\nfunction changePage(page: number) {\r\n  fetchOrders(page)\r\n}\r\n\r\nfunction applyFilters() {\r\n  fetchOrders(1)\r\n}\r\n\r\nfunction formatDate(date: string) {\r\n  return new Date(date).toLocaleDateString()\r\n}\r\n\r\nonMounted(() => {\r\n  fetchOrders()\r\n})\r\n\r\ndefinePageMeta({\r\n  layout: 'dashboard',\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.status-badge {\r\n  @apply inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium;\r\n}\r\n\r\n.status-yellow {\r\n  @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200;\r\n}\r\n.status-blue {\r\n  @apply bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200;\r\n}\r\n.status-red {\r\n  @apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200;\r\n}\r\n.status-green {\r\n  @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200;\r\n}\r\n.status-purple {\r\n  @apply bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200;\r\n}\r\n.status-orange {\r\n  @apply bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200;\r\n}\r\n.status-teal {\r\n  @apply bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200;\r\n}\r\n.status-gray {\r\n  @apply bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200;\r\n}\r\n</style>\r\n"],"names":["config","useRuntimeConfig","isLoading","useState","orders","ref","pagination","filters","orderStatuses","statusLabel","status","_a","statusIcon","statusClass","fetchOrders","page","url","res","useSanctumFetch","changePage","applyFilters","formatDate","date","onMounted","_openBlock","_createElementBlock","_hoisted_1","_unref","_createBlock","GlobalLoader","_hoisted_2","_cache","_createElementVNode","_hoisted_3","$event","_Fragment","_renderList","_toDisplayString","_hoisted_4","_vModelSelect","_vModelText","_hoisted_5","order","_hoisted_6","_hoisted_7","_normalizeClass","_createVNode","_component_Icon","_createTextVNode","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_NuxtLink","_hoisted_12","_hoisted_13","_hoisted_14"],"mappings":"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"}