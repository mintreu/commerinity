{"version":3,"file":"DPI6JeDP.js","sources":["../../../../pages/dashboard/account/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-full min-h-screen bg-gray-50 dark:bg-gray-900 py-10 px-4 md:px-10\">\r\n    <!-- Header -->\r\n    <div class=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4\">\r\n      <h1 class=\"text-3xl font-bold text-gray-900 dark:text-white\">\r\n        {{ isOwnProfile ? 'Welcome, ' : '' }}{{ currentUser?.name || 'User' }}\r\n      </h1>\r\n      <div v-if=\"isOwnProfile\">\r\n        <NuxtLink\r\n            to=\"/dashboard/account/edit\"\r\n            class=\"inline-flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:underline font-medium\"\r\n        >\r\n          <Icon name=\"mdi:account-edit-outline\" class=\"text-xl\" />\r\n          Edit Profile\r\n        </NuxtLink>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n      <!-- Profile Card -->\r\n      <div class=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-6\">\r\n        <div class=\"flex flex-col items-center text-center space-y-3\">\r\n<!--          <NuxtImg-->\r\n<!--              :src=\"currentUser?.avatar || '/default-avatar.png'\"-->\r\n<!--              alt=\"Avatar\"-->\r\n<!--              class=\"w-32 h-32 rounded-full border-4 border-blue-600 dark:border-blue-400 object-cover shadow\"-->\r\n<!--          />-->\r\n\r\n          <AvatarUploader />\r\n\r\n          <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white\">{{ currentUser?.name }}</h2>\r\n          <p class=\"text-sm text-gray-500 dark:text-gray-400\">{{ currentUser?.email }}</p>\r\n\r\n          <!-- Verification Badges -->\r\n          <div class=\"flex flex-row gap-2 mt-2 text-sm\">\r\n            <span\r\n                class=\"px-3 py-1 rounded-xl text-white\"\r\n                :class=\"currentUser?.email_verified ? 'bg-green-600' : 'bg-gray-500'\"\r\n            >\r\n              Email {{ currentUser?.email_verified ? 'Verified' : 'Unverified' }}\r\n            </span>\r\n            <span\r\n                class=\"px-3 py-1 rounded-xl text-white\"\r\n                :class=\"currentUser?.mobile_verified ? 'bg-green-600' : 'bg-gray-500'\"\r\n            >\r\n              Mobile {{ currentUser?.mobile_verified ? 'Verified' : 'Unverified' }}\r\n            </span>\r\n          </div>\r\n\r\n          <!-- User Type & Status -->\r\n          <div class=\"flex flex-row gap-2 mt-2 text-sm font-semibold\">\r\n            <span class=\"px-3 py-1 rounded-xl bg-blue-600 text-white\">{{ currentUser?.type || 'Member' }}</span>\r\n            <span\r\n                class=\"px-3 py-1 rounded-xl\"\r\n                :class=\"{\r\n                'bg-gray-500 text-white': !currentUser?.status,\r\n                'bg-yellow-500 text-white': currentUser?.status === 'Draft',\r\n                'bg-green-600 text-white': currentUser?.status === 'Subscribed',\r\n                'bg-red-500 text-white': currentUser?.status === 'Blocked'\r\n              }\"\r\n            >\r\n              {{ currentUser?.status || 'Unknown' }}\r\n            </span>\r\n          </div>\r\n\r\n          <!-- Referral Link -->\r\n          <div v-if=\"isOwnProfile && currentUser?.status === 'Subscribed'\" class=\"mt-4 w-full\">\r\n            <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Your Referral Link\r\n            </label>\r\n            <div class=\"flex flex-col sm:flex-row items-center gap-2\">\r\n              <div\r\n                  @click=\"copyReferral\"\r\n                  class=\"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 transition overflow-x-auto whitespace-nowrap text-sm referral-scrollbar\"\r\n                  title=\"Click to copy\"\r\n              >\r\n                {{ referralLink }}\r\n              </div>\r\n              <button\r\n                  @click=\"copyReferral\"\r\n                  class=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl transition mt-2 sm:mt-0 text-sm\"\r\n              >\r\n                Copy\r\n              </button>\r\n            </div>\r\n            <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n              Share this link to invite friends and earn rewards.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Personal Info -->\r\n        <div class=\"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2 text-sm text-gray-700 dark:text-gray-300\">\r\n          <p><strong>Mobile:</strong> {{ currentUser?.mobile || 'Not set' }}</p>\r\n          <p><strong>Gender:</strong> {{ currentUser?.gender || 'Not set' }}</p>\r\n          <p><strong>DOB:</strong> {{ currentUser?.dob || 'Not set' }}</p>\r\n          <p><strong>Referral Code:</strong> <span class=\"font-medium\">{{ currentUser?.referral_code || 'N/A' }}</span></p>\r\n          <p><strong>Parent:</strong> {{ currentUser?.hasParent ? currentUser?.parent : 'None' }}</p>\r\n          <p><strong>Level:</strong> {{ currentUser?.hasLevel ? currentUser?.level_id : 'Not assigned' }}</p>\r\n        </div>\r\n\r\n        <!-- Share Profile -->\r\n        <div v-if=\"isOwnProfile\" class=\"mt-4\">\r\n          <h3 class=\"text-sm font-semibold text-gray-900 dark:text-white mb-2\">Share Your Profile</h3>\r\n          <div class=\"flex flex-wrap gap-2\">\r\n            <button @click=\"shareProfile('whatsapp')\" class=\"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl text-sm\">WhatsApp</button>\r\n            <button @click=\"shareProfile('twitter')\" class=\"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xl text-sm\">Twitter</button>\r\n            <button @click=\"shareProfile('facebook')\" class=\"px-4 py-2 bg-blue-700 hover:bg-blue-800 text-white rounded-xl text-sm\">Facebook</button>\r\n            <button @click=\"shareProfile('copy')\" class=\"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-xl text-sm\">Copy Link</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Stats / Activity / Bio -->\r\n      <div class=\"lg:col-span-2 space-y-6\">\r\n        <!-- Bio Section -->\r\n        <div class=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">About Me</h3>\r\n          <div class=\"text-gray-700 dark:text-gray-300 text-sm max-h-72 overflow-y-auto\">\r\n            <p v-if=\"currentUser?.bio\">{{ currentUser.bio }}</p>\r\n            <p v-else class=\"italic text-gray-500 dark:text-gray-400\">No bio yet</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Recent Activity -->\r\n        <div class=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Recent Activity</h3>\r\n          <p class=\"text-gray-500 dark:text-gray-400 text-sm\">No recent activity available.</p>\r\n        </div>\r\n\r\n        <!-- Additional Information -->\r\n        <div class=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Additional Information</h3>\r\n          <p class=\"text-gray-500 dark:text-gray-400 text-sm\">You can display other data like posts, achievements, or stats here.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { useSanctum,useToast } from '#imports'\r\nimport { computed } from 'vue'\r\nimport AvatarUploader from \"~/components/account/AvatarUploader.vue\";\r\n\r\nconst toast = useToast()\r\n\r\ninterface User {\r\n  uuid: string;\r\n  avatar: string;\r\n  dob: string;\r\n  email: string;\r\n  email_verified: boolean;\r\n  gender: string;\r\n  hasLevel: boolean;\r\n  hasParent: boolean;\r\n  level_id: number | null;\r\n  mobile: string;\r\n  mobile_verified: boolean;\r\n  name: string;\r\n  parent: string | null;\r\n  referral_code: string;\r\n  status: string;\r\n  status_feedback: string | null;\r\n  type: string;\r\n}\r\n\r\nconst { user } = useSanctum<User>();\r\nconst currentUser = computed(() => user.value)\r\n\r\ndefinePageMeta({ layout: 'dashboard' })\r\n\r\nconst isOwnProfile = computed(() => true)\r\n\r\nconst referralLink = computed(() => {\r\n  if (!currentUser.value?.referral_code) return ''\r\n  return `${window.location.origin}/register?referral=${currentUser.value.referral_code}`\r\n})\r\n\r\nfunction copyReferral() {\r\n  if (!referralLink.value) return\r\n  navigator.clipboard.writeText(referralLink.value)\r\n      .then(() => toast.success({ title: 'Copied!', message: 'Referral link copied to clipboard.' }))\r\n      .catch(() => toast.error({ title: 'Error', message: 'Failed to copy referral link.' }))\r\n}\r\n\r\nfunction shareProfile(platform: string) {\r\n  const url = `${window.location.origin}/community/account/${currentUser.value?.uuid || ''}`\r\n\r\n  switch (platform) {\r\n    case 'whatsapp':\r\n      window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(url)}`, '_blank')\r\n      break\r\n    case 'twitter':\r\n      window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}`, '_blank')\r\n      break\r\n    case 'facebook':\r\n      window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank')\r\n      break\r\n    case 'copy':\r\n      navigator.clipboard.writeText(url)\r\n      toast.success({ title: 'Copied!', message: 'Profile link copied.' })\r\n      break\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Referral Link Scrollbar: hidden by default, visible on hover */\r\n.referral-scrollbar::-webkit-scrollbar {\r\n  height: 6px;\r\n  width: 0;\r\n  background: transparent;\r\n}\r\n.referral-scrollbar {\r\n  -ms-overflow-style: none; /* IE 10+ */\r\n  scrollbar-width: none; /* Firefox */\r\n}\r\n.referral-scrollbar:hover::-webkit-scrollbar {\r\n  height: 6px;\r\n  width: 6px;\r\n}\r\n.referral-scrollbar:hover::-webkit-scrollbar-thumb {\r\n  background-color: rgba(100, 100, 100, 0.5);\r\n  border-radius: 10px;\r\n}\r\n.referral-scrollbar:hover::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n</style>\r\n"],"names":["toast","useToast","user","useSanctum","currentUser","computed","isOwnProfile","referralLink","_a","copyReferral","shareProfile","platform","url","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","_hoisted_4","_createVNode","_component_NuxtLink","_component_Icon","_hoisted_5","_hoisted_6","_hoisted_7","AvatarUploader","_hoisted_8","_b","_hoisted_9","_c","_hoisted_10","_normalizeClass","_d","_e","_f","_g","_hoisted_11","_hoisted_12","_h","_i","_j","_k","_l","_m","_n","_hoisted_13","_cache","_hoisted_14","_hoisted_15","_o","_p","_q","_hoisted_16","_r","_createTextVNode","_s","_t","_u","_v","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_w","_hoisted_22","_hoisted_23"],"mappings":"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"}