import{b4 as I,br as M,bd as v,aW as A,bA as F,aY as d,b5 as t,b8 as o,bg as i,b9 as r,b7 as h,aZ as E,bk as P,bl as b,bm as x,bh as m,bB as O,a_ as l,bc as R,bo as j,aX as q}from"./B132AJ_X.js";import{u as L}from"./DVwEWGMy.js";(function(){try{var u=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};u.SENTRY_RELEASE={id:"3703708ef9ac1b45e23fc2a6a145a79341d4c60a"}}catch{}})();try{(function(){var u=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},y=new u.Error().stack;y&&(u._sentryDebugIds=u._sentryDebugIds||{},u._sentryDebugIds[y]="f2272963-ec00-4c31-892b-8830318f5bec",u._sentryDebugIdIdentifier="sentry-dbid-f2272963-ec00-4c31-892b-8830318f5bec")})()}catch{}const W={class:"max-w-full mx-auto py-10 px-4 sm:px-6 lg:px-8"},Y={class:"flex items-center justify-between mb-6"},$={class:"bg-white dark:bg-gray-800 shadow-xl rounded-xl divide-y divide-gray-200 dark:divide-gray-700"},z={class:"p-6 flex flex-col sm:flex-row items-center"},G={class:"relative"},X=["src"],Z={key:0,class:"absolute bottom-0 right-0 bg-blue-600 text-white p-1 rounded-full cursor-pointer hover:bg-blue-700"},H={class:"cursor-pointer"},J={class:"sm:ml-6 mt-4 sm:mt-0 text-center sm:text-left flex-1"},K={class:"text-xl md:text-3xl font-semibold text-gray-900 dark:text-white"},Q={class:"text-sm md:text-lg text-gray-600 dark:text-gray-300 flex items-center gap-1"},ee={class:"text-sm md:text-lg text-gray-600 dark:text-gray-300 flex items-center gap-1"},te=["disabled"],re={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ae={key:0,class:"text-sm text-red-600 dark:text-red-400"},se={key:0,class:"text-sm text-red-600 dark:text-red-400"},oe={key:0,class:"text-sm text-red-600 dark:text-red-400"},de={key:0,class:"text-sm text-red-600 dark:text-red-400"},le={key:0,class:"text-sm text-red-600 dark:text-red-400"},ne={class:"md:col-span-2"},ie={key:0,class:"text-sm text-red-600 dark:text-red-400"},ue={class:"border-t pt-6 space-y-4"},be={key:0,class:"text-sm text-red-600 dark:text-red-400"},me={key:0,class:"text-sm text-red-600 dark:text-red-400"},ge={key:0,class:"text-sm text-red-600 dark:text-red-400"},pe=["disabled"],xe=I({__name:"profile",setup(u){const y=A(),{user:n,refreshUser:_}=M(),g=v(!1),k=v(null),f=v(null),w=v(!1),a=L("POST",`${y.public.apiBase}/user/profile`,{name:"",email:"",mobile:"",bio:"",gender:"",dob:"",current_password:"",password:"",password_confirmation:""});function D(){g.value=!g.value,g.value&&n.value&&a.setData({name:n.value.name,email:n.value.email,mobile:n.value.mobile||"",bio:n.value.bio||"",gender:n.value.gender||"",dob:n.value.dob||"",current_password:"",password:"",password_confirmation:""})}F(()=>{var p;return(p=n.value)==null?void 0:p.avatar},()=>{k.value=null});function T(p){var c;const e=((c=p.target.files)==null?void 0:c[0])||null;e&&e.type.startsWith("image/")&&(f.value=e,k.value=URL.createObjectURL(e))}async function B(){if(!f.value)return;w.value=!0;const p=new FormData;p.append("avatar",f.value);try{await j(`${y.public.apiBase}/user/avatar`,{method:"POST",body:p}),await _(),f.value=null,k.value=null}catch{}finally{w.value=!1}}async function N(){await a.submit().then(async()=>{await _(),g.value=!1}).catch(()=>{})}return(p,e)=>{var U,S,V,C;const c=R;return l(),d("div",W,[t("div",Y,[e[9]||(e[9]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"My Profile",-1)),t("button",{onClick:D,class:"text-sm text-blue-600 hover:text-blue-800 transition-colors duration-200"},o(g.value?"Cancel":"Edit Profile"),1)]),t("div",$,[t("div",z,[t("div",G,[t("img",{src:k.value||((U=r(n))==null?void 0:U.avatar),alt:"User Avatar",class:"w-28 md:w-36 h-28 md:h-36 rounded-full object-cover border-4 border-blue-500 dark:border-blue-400"},null,8,X),g.value?(l(),d("div",Z,[t("label",H,[t("input",{type:"file",accept:"image/*",class:"hidden",onChange:T},null,32),e[10]||(e[10]=h(" ðŸ“¸ "))])])):i("",!0)]),t("div",J,[t("h2",K,o((S=r(n))==null?void 0:S.name),1),t("p",Q,[E(c,{name:"material-icon-theme:email"}),h(" "+o((V=r(n))==null?void 0:V.email),1)]),t("p",ee,[E(c,{name:"solar:phone-rounded-bold"}),h(" "+o(((C=r(n))==null?void 0:C.mobile)||"not set"),1)])])]),g.value&&f.value?(l(),d("form",{key:0,onSubmit:P(B,["prevent"]),class:"px-6 py-4"},[t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition disabled:opacity-50",disabled:w.value},o(w.value?"Uploading...":"Upload Avatar"),9,te)],32)):i("",!0),g.value?(l(),d("form",{key:1,onSubmit:P(N,["prevent"]),class:"p-6 space-y-6"},[t("div",re,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Name",-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r(a).name=s),type:"text",placeholder:"Enter your full name",class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.name?"border-red-500":"border-gray-300 dark:border-gray-600"]),required:"",minlength:"3"},null,2),[[x,r(a).name]]),e[12]||(e[12]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Used for account display & notifications.",-1)),r(a).errors.name?(l(),d("span",ae,o(r(a).errors.name),1)):i("",!0)]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Email",-1)),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>r(a).email=s),type:"email",placeholder:"you@example.com",class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.email?"border-red-500":"border-gray-300 dark:border-gray-600"]),required:""},null,2),[[x,r(a).email]]),e[14]||(e[14]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Primary contact & login email.",-1)),r(a).errors.email?(l(),d("span",se,o(r(a).errors.email),1)):i("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Mobile",-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>r(a).mobile=s),type:"tel",placeholder:"+1 555 123 4567",class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.mobile?"border-red-500":"border-gray-300 dark:border-gray-600"]),required:""},null,2),[[x,r(a).mobile]]),e[16]||(e[16]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Used for SMS alerts & two-factor auth.",-1)),r(a).errors.mobile?(l(),d("span",oe,o(r(a).errors.mobile),1)):i("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Gender",-1)),b(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>r(a).gender=s),class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.gender?"border-red-500":"border-gray-300 dark:border-gray-600"])},e[17]||(e[17]=[t("option",{value:"",disabled:""},"Select gender",-1),t("option",{value:"male"},"Male",-1),t("option",{value:"female"},"Female",-1),t("option",{value:"other"},"Other",-1)]),2),[[O,r(a).gender]]),e[19]||(e[19]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Optional demographic info.",-1)),r(a).errors.gender?(l(),d("span",de,o(r(a).errors.gender),1)):i("",!0)]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Date of Birth",-1)),b(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>r(a).dob=s),type:"date",class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.dob?"border-red-500":"border-gray-300 dark:border-gray-600"])},null,2),[[x,r(a).dob]]),e[21]||(e[21]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Used to verify age-restricted features.",-1)),r(a).errors.dob?(l(),d("span",le,o(r(a).errors.dob),1)):i("",!0)]),t("div",ne,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Bio",-1)),b(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>r(a).bio=s),placeholder:"Tell us something about yourself",rows:"3",class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.bio?"border-red-500":"border-gray-300 dark:border-gray-600"])},null,2),[[x,r(a).bio]]),e[23]||(e[23]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"A short personal description.",-1)),r(a).errors.bio?(l(),d("span",ie,o(r(a).errors.bio),1)):i("",!0)])]),t("div",ue,[e[27]||(e[27]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Change Password",-1)),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Current Password",-1)),b(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>r(a).current_password=s),type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.current_password?"border-red-500":"border-gray-300 dark:border-gray-600"])},null,2),[[x,r(a).current_password]]),r(a).errors.current_password?(l(),d("span",be,o(r(a).errors.current_password),1)):i("",!0)]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"New Password",-1)),b(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>r(a).password=s),type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.password?"border-red-500":"border-gray-300 dark:border-gray-600"])},null,2),[[x,r(a).password]]),r(a).errors.password?(l(),d("span",me,o(r(a).errors.password),1)):i("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Confirm New Password",-1)),b(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>r(a).password_confirmation=s),type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",class:m(["mt-1 block w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border rounded-md text-gray-900 dark:text-white",r(a).errors.password_confirmation?"border-red-500":"border-gray-300 dark:border-gray-600"])},null,2),[[x,r(a).password_confirmation]]),r(a).errors.password_confirmation?(l(),d("span",ge,o(r(a).errors.password_confirmation),1)):i("",!0)])]),t("div",null,[t("button",{type:"submit",class:"w-full md:w-auto px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition",disabled:r(a).processing},o(r(a).processing?"Saving...":"Save Changes"),9,pe)])],32)):i("",!0)])])}}}),ce=q(xe,[["__scopeId","data-v-2e56be67"]]);export{ce as default};
