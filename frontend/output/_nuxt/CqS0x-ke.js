import{b4 as L,bd as k,ba as S,aY as m,bj as f,a_ as n,bc as E,br as x,bS as B,by as D,bg as _,b9 as g,b5 as s,aZ as c,b8 as I,bt as y,bJ as N,aX as T,be as $,bf as M,bh as R,ct as W}from"./B132AJ_X.js";import{_ as U}from"./KQNRGUnb.js";import{_ as j}from"./CzGapVpC.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};a.SENTRY_RELEASE={id:"3703708ef9ac1b45e23fc2a6a145a79341d4c60a"}}catch{}})();try{(function(){var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new a.Error().stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="cb69971a-1d90-4553-9709-a6b44bb43353",a._sentryDebugIdIdentifier="sentry-dbid-cb69971a-1d90-4553-9709-a6b44bb43353")})()}catch{}const z=["title"],G=L({__name:"DarkModeToggle",setup(a){const e=k(!1);function b(){e.value=!e.value,document.documentElement.classList.toggle("dark",e.value),localStorage.setItem("theme",e.value?"dark":"light")}return S(()=>{const r=localStorage.getItem("theme");r==="dark"?(e.value=!0,document.documentElement.classList.add("dark")):r==="light"?(e.value=!1,document.documentElement.classList.remove("dark")):(e.value=window.matchMedia("(prefers-color-scheme: dark)").matches,document.documentElement.classList.toggle("dark",e.value))}),(r,l)=>{const d=E;return n(),m("button",{onClick:b,class:"transition hover:text-yellow-500 dark:hover:text-yellow-300",title:e.value?"Switch to Light Mode":"Switch to Dark Mode","aria-label":"Toggle Dark Mode"},[e.value?(n(),f(d,{key:1,name:"bi:brightness-high-fill",width:"20",height:"20"})):(n(),f(d,{key:0,name:"bi:moon-fill",width:"20",height:"20"}))],8,z)}}}),O={class:"hidden sm:block font-medium text-sm text-gray-800 dark:text-white"},V={key:0,class:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl ring-1 ring-black/5 z-50 overflow-hidden"},A=L({__name:"UserDropdown",setup(a){const{user:e,logout:b}=x(),r=N(),l=k(!1),d=k(null);function p(){l.value=!l.value}function v(){b(),l.value=!1}function o(u){d.value&&!d.value.contains(u.target)&&(l.value=!1)}S(()=>{document.addEventListener("click",o)}),B(()=>{document.removeEventListener("click",o)});const i=D(()=>r.path.startsWith("/dashboard"));return(u,t)=>{const C=U,h=E,w=j;return g(e)?(n(),m("div",{key:0,ref_key:"dropdownRef",ref:d,class:"relative"},[s("button",{onClick:p,class:"flex items-center gap-2 px-2 py-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition"},[c(C,{src:g(e).avatar,loading:"lazy",class:"w-8 h-8 rounded-full",alt:g(e).name},null,8,["src","alt"]),s("span",O,I(g(e).name),1),c(h,{name:"mdi:chevron-down",class:"w-4 h-4 text-gray-600 dark:text-gray-300"})]),l.value?(n(),m("div",V,[i.value?(n(),f(w,{key:0,to:"/",class:"dropdown-item"},{default:y(()=>[c(h,{name:"mdi:home-outline",class:"w-4 h-4"}),t[0]||(t[0]=s("span",null,"Back to Home",-1))]),_:1,__:[0]})):(n(),f(w,{key:1,to:"/dashboard",class:"dropdown-item"},{default:y(()=>[c(h,{name:"mdi:view-dashboard-outline",class:"w-4 h-4"}),t[1]||(t[1]=s("span",null,"Back to Dashboard",-1))]),_:1,__:[1]})),c(w,{to:"/dashboard/account",class:"dropdown-item"},{default:y(()=>[c(h,{name:"mdi:account-outline",class:"w-4 h-4"}),t[2]||(t[2]=s("span",null,"Profile",-1))]),_:1,__:[2]}),t[4]||(t[4]=s("div",{class:"border-t border-gray-200 dark:border-gray-700 my-1"},null,-1)),s("button",{onClick:v,class:"dropdown-item text-red-600 hover:bg-red-50 dark:hover:bg-red-900/40"},[c(h,{name:"mdi:logout",class:"w-4 h-4"}),t[3]||(t[3]=s("span",null,"Logout",-1))])])):_("",!0)],512)):_("",!0)}}}),K=T(A,[["__scopeId","data-v-2900882a"]]),H={key:0,class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 flex justify-around items-center h-16 md:hidden z-50 shadow-lg"},Y=["onClick"],F={class:"relative"},J={key:0,class:"absolute -top-1 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center"},P={class:"text-xs mt-1"},Q=L({__name:"BottomNavBar",setup(a){const{user:e}=x(),b=W(),r=N(),{isLoggedIn:l}=x(),d=D(()=>{const o=r.path;return o.startsWith("/dashboard/orders")||o.startsWith("/cart")?"/dashboard/orders":o.startsWith("/category")?"/category":o.startsWith("/dashboard/account")?"/dashboard/account":"/dashboard"}),p=D(()=>{var i,u;const o=[{name:"home",to:"/dashboard",label:"Home",icon:"mdi:view-dashboard-outline"},{name:"shop",to:"/category",label:"Shop",icon:"mdi:cart-outline"},{name:"orders",to:"/dashboard/orders",label:"Orders",icon:"mdi:clipboard-list-outline"},{name:"wallet",to:"/dashboard/wallet",label:"Wallet",icon:"mdi:account-outline"},{name:"account",to:"/dashboard/account",label:"Account",icon:"mdi:account-outline"}];return((u=(i=e.value)==null?void 0:i.status)==null?void 0:u.toLowerCase())==="draft"&&o.push({name:"subscribe",to:"/dashboard/subscribe-now",label:"Subscribe",icon:"mdi:star-outline",badge:"New"}),o});function v(o){b.push(o).catch(i=>{i.name!=="NavigationDuplicated"&&console.error(i)})}return(o,i)=>{const u=E;return g(l)?(n(),m("nav",H,[(n(!0),m($,null,M(p.value,t=>(n(),m("button",{key:t.name,onClick:C=>v(t.to),class:R(["flex flex-col items-center justify-center text-center flex-1 transition-colors",d.value===t.to?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"])},[s("div",F,[c(u,{name:t.icon,class:"w-6 h-6"},null,8,["name"]),t.badge?(n(),m("span",J,I(t.badge),1)):_("",!0)]),s("span",P,I(t.label),1)],10,Y))),128))])):_("",!0)}}});export{K as U,G as _,Q as a};
