{"version":3,"file":"CTDWawVV.js","sources":["../../../../pages/dashboard/career/applications/[url].vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-4 sm:p-6 lg:p-12\">\r\n    <!-- Loader -->\r\n    <div v-if=\"isLoading\" class=\"flex items-center justify-center h-screen w-full\">\r\n      <svg class=\"animate-spin h-12 w-12 text-indigo-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" aria-label=\"Loading spinner\">\r\n        <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"/>\r\n        <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"/>\r\n      </svg>\r\n      <span class=\"ml-4 text-xl font-semibold tracking-wide\">Loading application details...</span>\r\n    </div>\r\n\r\n    <div v-else class=\"max-w-screen-xl mx-auto space-y-8\">\r\n      <!-- Split panels -->\r\n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <!-- Application Minimal -->\r\n        <section class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700\">\r\n          <h2 class=\"text-2xl font-bold mb-4\">Application</h2>\r\n          <dl class=\"space-y-3 text-base\">\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <dt class=\"font-semibold text-gray-700 dark:text-gray-300\">Application ID</dt>\r\n              <dd class=\"text-right font-mono break-all text-indigo-600 dark:text-indigo-400\">{{ app.uuid || 'N/A' }}</dd>\r\n            </div>\r\n\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <dt class=\"font-semibold text-gray-700 dark:text-gray-300\">Submitted On</dt>\r\n              <dd class=\"text-right\">{{ formatDate(app.submit_on) }}</dd>\r\n            </div>\r\n\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <dt class=\"font-semibold text-gray-700 dark:text-gray-300\">Reference Name</dt>\r\n              <dd class=\"text-right break-words\">{{ app.reference_name || '—' }}</dd>\r\n            </div>\r\n\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <dt class=\"font-semibold text-gray-700 dark:text-gray-300\">Reference Contact</dt>\r\n              <dd class=\"text-right break-words\">{{ app.reference_contact || '—' }}</dd>\r\n            </div>\r\n\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <dt class=\"font-semibold text-gray-700 dark:text-gray-300\">Status</dt>\r\n              <dd class=\"text-right\" :class=\"statusColorClass(app.status)\">{{ app.status || 'N/A' }}</dd>\r\n            </div>\r\n          </dl>\r\n        </section>\r\n\r\n        <!-- Transaction Minimal -->\r\n        <section class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700\">\r\n          <h2 class=\"text-2xl font-bold mb-4\">Transaction</h2>\r\n\r\n          <div v-if=\"tx\" class=\"space-y-3 text-base\">\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <span class=\"font-semibold text-gray-700 dark:text-gray-300\">Fees</span>\r\n              <span class=\"text-right font-semibold\">{{ formatAmount(tx.amount) }}</span>\r\n            </div>\r\n\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <span class=\"font-semibold text-gray-700 dark:text-gray-300\">Verified</span>\r\n              <span class=\"text-right\">\r\n                <span v-if=\"!!tx.verified\" class=\"text-green-600 dark:text-green-400 font-semibold\">Yes</span>\r\n                <span v-else class=\"text-yellow-600 dark:text-yellow-400 font-semibold\">No</span>\r\n              </span>\r\n            </div>\r\n\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <span class=\"font-semibold text-gray-700 dark:text-gray-300\">Status</span>\r\n              <span class=\"text-right\" :class=\"statusColorClass(tx.status)\">{{ tx.status || 'N/A' }}</span>\r\n            </div>\r\n\r\n            <div class=\"flex items-start justify-between gap-4\">\r\n              <span class=\"font-semibold text-gray-700 dark:text-gray-300\">Expires At</span>\r\n              <span class=\"text-right\">{{ formatDate(tx.expire_at) }}</span>\r\n            </div>\r\n\r\n            <!-- Pay Now CTA only when not verified and not expired -->\r\n            <div v-if=\"showPayNow\" class=\"pt-2\">\r\n              <a\r\n                  :href=\"payNowUrl\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  class=\"w-full block px-5 py-3 text-center bg-indigo-600 text-white font-semibold rounded-lg shadow hover:bg-indigo-700 transition\"\r\n              >\r\n                Pay Now\r\n              </a>\r\n              <p class=\"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center\">\r\n                Complete payment before expiry to finalize the application.\r\n              </p>\r\n            </div>\r\n\r\n            <div v-else class=\"pt-1 text-sm text-gray-500 dark:text-gray-400 text-center\">\r\n              No payment action required.\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else class=\"text-center text-gray-500 dark:text-gray-400\">\r\n            No transaction data available.\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      <!-- Application Situation & Updates (Status Feedback) -->\r\n      <section class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700\">\r\n        <h2 class=\"text-2xl font-bold mb-3\">Application Updates</h2>\r\n        <p class=\"text-sm text-gray-600 dark:text-gray-400 mb-3\">\r\n          This section may include detailed instructions, timelines, or next steps regarding selection, interviews, onboarding, or required documents.\r\n        </p>\r\n\r\n        <!-- Read-only textarea-style display -->\r\n        <div class=\"relative\">\r\n          <textarea\r\n              class=\"w-full min-h-[140px] rounded-md border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-3 resize-y\"\r\n              :value=\"app.status_feedback || 'No updates available at the moment.'\"\r\n              readonly\r\n          ></textarea>\r\n          <span class=\"absolute -top-3 left-2 bg-white dark:bg-gray-800 px-1 text-xs text-gray-500 dark:text-gray-400\">Status Feedback</span>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRoute, useRuntimeConfig, useSanctumFetch, useToast } from '#imports'\r\n\r\ndefinePageMeta({ layout: 'dashboard' })\r\n\r\nconst isLoading = ref(false)\r\nconst application = ref<any>({})\r\n\r\nconst config = useRuntimeConfig()\r\nconst route = useRoute()\r\nconst toast = useToast()\r\nconst uuid = route.params.url\r\n\r\nonMounted(async () => {\r\n  isLoading.value = true\r\n  try {\r\n    await fetchApplication()\r\n  } catch (e) {\r\n    toast.error({ title: 'Failed to load application details.' })\r\n    console.error(e)\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n})\r\n\r\nasync function fetchApplication() {\r\n  const url = `${config.public.apiBase}/account/applications/${uuid}`\r\n  const res: any = await useSanctumFetch(url, { method: 'GET' })\r\n  if (res?.data) application.value = res.data\r\n  else throw new Error('No data received')\r\n}\r\n\r\n// Shorthand refs\r\nconst app = computed(() => application.value || {})\r\nconst tx = computed(() => application.value?.transaction || null)\r\n\r\n// Helpers\r\nfunction formatDate(dateStr: string | null | undefined) {\r\n  if (!dateStr) return 'N/A'\r\n  const d = new Date(dateStr)\r\n  if (isNaN(d.getTime())) return 'N/A'\r\n  return d.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' })\r\n}\r\n\r\nfunction formatAmount(amount: number | null | undefined) {\r\n  if (amount == null) return '₹0'\r\n  try {\r\n    return new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', minimumFractionDigits: 0 }).format(amount)\r\n  } catch {\r\n    return `₹${amount}`\r\n  }\r\n}\r\n\r\nfunction statusColorClass(status: string | null | undefined) {\r\n  if (!status) return 'text-gray-500'\r\n  const lower = status.toLowerCase()\r\n  if (lower.includes('paid') || lower.includes('success') || lower.includes('completed')) return 'text-green-600 dark:text-green-400 font-semibold'\r\n  if (lower.includes('pending') || lower.includes('await')) return 'text-yellow-600 dark:text-yellow-400 font-semibold'\r\n  if (lower.includes('fail') || lower.includes('reject') || lower.includes('declined') || lower.includes('cancel')) return 'text-red-600 dark:text-red-400 font-semibold'\r\n  return 'text-gray-600 dark:text-gray-400'\r\n}\r\n\r\n// Pay Now visibility: only when not verified and not expired\r\nconst showPayNow = computed(() => {\r\n  if (!tx.value) return false\r\n  const verified = !!tx.value.verified\r\n  if (verified) return false\r\n  const expireAt = tx.value.expire_at ? new Date(tx.value.expire_at) : null\r\n  const now = new Date()\r\n  return !!expireAt && expireAt > now\r\n})\r\n\r\n// Preferred Pay URL: if provider link exists, use it; else fallback\r\nconst payNowUrl = computed(() => {\r\n  if (!tx.value) return '#'\r\n  return tx.value.provider_gen_link || tx.value.success_redirect_url || `${config.public.webBase}/checkout/${tx.value.uuid}`\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* Tailwind only */\r\n</style>\r\n"],"names":["isLoading","ref","application","config","useRuntimeConfig","route","useRoute","toast","useToast","uuid","onMounted","fetchApplication","e","url","res","useSanctumFetch","app","computed","tx","_a","formatDate","dateStr","d","formatAmount","amount","statusColorClass","status","lower","showPayNow","expireAt","payNowUrl","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_cache","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32"],"mappings":"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"}