import{b4 as F,bp as M,bC as j,bd as k,br as G,bz as P,by as $,ba as V,aW as Y,bo as _,aY as p,bj as z,b9 as O,b5 as t,b7 as l,b8 as o,be as E,bf as D,b6 as U,a_ as u,bh as B,bE as q}from"./B132AJ_X.js";(function(){try{var d=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};d.SENTRY_RELEASE={id:"3703708ef9ac1b45e23fc2a6a145a79341d4c60a"}}catch{}})();try{(function(){var d=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},b=new d.Error().stack;b&&(d._sentryDebugIds=d._sentryDebugIds||{},d._sentryDebugIds[b]="c839c004-a86c-4f2b-8f61-58ce36d1bdd9",d._sentryDebugIdIdentifier="sentry-dbid-c839c004-a86c-4f2b-8f61-58ce36d1bdd9")})()}catch{}const W={class:"min-h-screen w-full bg-gray-50 dark:bg-gray-900 dark:text-white mb-10 sm:mb-8"},H={key:1,class:"w-full px-4 sm:px-6 lg:px-8 py-6 space-y-6"},J={class:"bg-gradient-to-r from-green-400 to-emerald-600 dark:from-green-700 dark:to-emerald-800 text-white rounded-3xl p-6 shadow-xl"},K={class:"opacity-90"},Q={class:"mt-2 text-sm"},X={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Z={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow hover:shadow-lg transition"},ee={class:"bg-gradient-to-r from-purple-400 to-pink-500 dark:from-purple-700 dark:to-pink-700 rounded-2xl p-5 shadow text-white hover:scale-105 transform transition"},te={class:"bg-gradient-to-r from-blue-400 to-indigo-500 dark:from-blue-700 dark:to-indigo-800 rounded-2xl p-5 shadow text-white lg:col-span-3"},se={class:"space-y-2"},oe={key:2,class:"w-full px-4 sm:px-6 lg:px-8 py-6 space-y-8"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},ae={class:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow hover:shadow-lg transition"},re={class:"text-green-600 dark:text-green-400 font-semibold"},le={class:"bg-gradient-to-r from-purple-400 to-pink-500 dark:from-purple-700 dark:to-pink-700 rounded-2xl p-5 shadow text-white hover:scale-105 transform transition"},ne={class:"bg-gradient-to-r from-blue-400 to-indigo-500 dark:from-blue-700 dark:to-indigo-800 rounded-2xl p-5 shadow text-white mt-6"},de={class:"space-y-2"},ue={class:"sticky bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-4 shadow-lg space-y-2"},ce={class:"text-lg font-semibold text-gray-900 dark:text-white text-center"},pe={class:"text-green-600 dark:text-green-400"},be=["disabled"],ge={key:3,class:"text-center py-20 text-gray-500 dark:text-gray-400"},fe=F({__name:"subscribe",setup(d){const b=Y(),I=M(),S=j("pageLoading",()=>!1),h=k(!1),r=k(null),g=k(!1);G();const s=P({name:"",url:"",description:"",price:"",max_team_capacity:0,benefits:{},levels:[]}),C=$(()=>{var c,n;if(!((n=(c=r.value)==null?void 0:c.subscription)!=null&&n.expire_at))return 0;const i=new Date(r.value.subscription.expire_at).getTime(),e=new Date().getTime();return Math.max(0,Math.ceil((i-e)/(1e3*60*60*24)))});V(async()=>{var i;try{await A(),(!((i=r.value)!=null&&i.subscription)||r.value.subscription.expired)&&await L()}catch(e){console.error("Init error",e),g.value=!0}finally{S.value=!1}});async function L(){try{const i=`${b.public.apiBase}/lifecycle/subscribable`,e=await _(i,{method:"GET"});e!=null&&e.data?Object.assign(s,e.data):g.value=!0}catch(i){console.error("Failed to fetch subscription data:",i),g.value=!0}}async function A(){try{const i=`${b.public.apiBase}/account/subscription`,e=await _(i,{method:"GET"});e!=null&&e.data?r.value=e.data:g.value=!0}catch(i){console.error("Failed to fetch user subscription:",i),g.value=!0}}async function R(){var i,e,c;try{h.value=!0;let n,m;(i=s==null?void 0:s.levels)!=null&&i.length?(m=(e=s.levels[0])==null?void 0:e.id,n=((c=s.levels[0])==null?void 0:c.stage_id)||s.id):(n=s.stage_id||s.id,m=s.level_id);const v=`${b.public.apiBase}/account/subscription`,f=await _(v,{method:"POST",body:{stage_id:n,level_id:m}}),a=f==null?void 0:f.data;a!=null&&a.status?a!=null&&a.redirect&&(a!=null&&a.redirect_url)?window.location.href=a.redirect_url:I.push("/dashboard/subscription/success"):alert((a==null?void 0:a.message)||"Failed to subscribe.")}catch(n){console.error("Subscription request failed:",n),alert("Error occurred while subscribing.")}finally{h.value=!1}}return(i,e)=>{var c,n,m,v,w,f,a,N,T;return u(),p("div",W,[O(S)?(u(),z(q,{key:0})):!g.value&&((c=r.value)!=null&&c.subscription)&&!r.value.subscription.expired?(u(),p("div",H,[t("div",J,[e[2]||(e[2]=t("h2",{class:"text-3xl font-bold mb-2 flex items-center gap-2"},"âœ… Active Subscription",-1)),t("p",K,[e[0]||(e[0]=l(" Youâ€™re enjoying premium access until ")),t("strong",null,o(r.value.subscription.expire_at),1),e[1]||(e[1]=l(". "))]),t("p",Q,"Remaining Days: "+o(C.value),1)]),t("div",X,[t("div",Z,[e[5]||(e[5]=t("h3",{class:"text-xl font-semibold mb-2 text-gray-800 dark:text-white"},"Stage Details",-1)),t("p",null,[e[3]||(e[3]=t("strong",null,"Name:",-1)),l(" "+o((n=r.value.subscription.stage)==null?void 0:n.name),1)]),t("p",null,[e[4]||(e[4]=t("strong",null,"Description:",-1)),l(" "+o(((m=r.value.subscription.stage)==null?void 0:m.description)||"N/A"),1)])]),t("div",ee,[e[8]||(e[8]=t("h3",{class:"text-xl font-semibold mb-2"},"Level Details",-1)),t("p",null,[e[6]||(e[6]=t("strong",null,"Name:",-1)),l(" "+o((v=r.value.subscription.level)==null?void 0:v.name),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Max Team Capacity:",-1)),l(" "+o((w=r.value.subscription.level)==null?void 0:w.max_team_capacity),1)])]),t("div",te,[e[9]||(e[9]=t("h3",{class:"text-xl font-semibold mb-2"},"Benefits",-1)),t("ul",se,[(u(!0),p(E,null,D((f=r.value.subscription.stage)==null?void 0:f.benefits,(x,y)=>(u(),p("li",{key:y,class:B(x==="Active"?"text-white dark:text-green-400":"line-through text-red-700")},o(y)+" - "+o(x),3))),128))])])])])):!g.value&&(s!=null&&s.name)?(u(),p("div",oe,[e[21]||(e[21]=U('<div class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 dark:from-indigo-800 dark:via-purple-800 dark:to-pink-700 rounded-3xl p-6 shadow-xl text-white text-center space-y-4"><h2 class="text-3xl font-extrabold flex items-center justify-center gap-2">ðŸ’Ž Upgrade to Premium</h2><p class="opacity-90 text-lg">Unlock exclusive benefits, network growth, and advanced earning tools.</p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="bg-gradient-to-r from-blue-400 to-indigo-500 dark:from-blue-700 dark:to-indigo-800 rounded-2xl p-5 shadow-lg text-white hover:scale-105 transform transition"><h3 class="text-xl font-semibold mb-2">Affiliate Commissions</h3><p class="opacity-90">Earn rewards from your downline and grow your passive income.</p></div><div class="bg-gradient-to-r from-emerald-400 to-teal-500 dark:from-emerald-700 dark:to-teal-800 rounded-2xl p-5 shadow-lg text-white hover:scale-105 transform transition"><h3 class="text-xl font-semibold mb-2">Exclusive Benefits</h3><p class="opacity-90">Get premium tools, early access features, and member-only perks.</p></div><div class="bg-gradient-to-r from-orange-400 to-pink-500 dark:from-orange-700 dark:to-pink-700 rounded-2xl p-5 shadow-lg text-white hover:scale-105 transform transition"><h3 class="text-xl font-semibold mb-2">Network Growth</h3><p class="opacity-90">Build your influence, connect with others, and scale your reach.</p></div></div>',2)),t("div",ie,[t("div",ae,[e[15]||(e[15]=t("h3",{class:"text-xl font-semibold mb-2 text-gray-800 dark:text-white"},"Stage Info",-1)),t("p",null,[e[10]||(e[10]=t("strong",null,"Name:",-1)),l(" "+o(s.name),1)]),t("p",null,[e[11]||(e[11]=t("strong",null,"Max Team Capacity:",-1)),l(" "+o(s.max_team_capacity),1)]),t("p",null,[e[12]||(e[12]=t("strong",null,"Price:",-1)),e[13]||(e[13]=l()),t("span",re,o(s.price),1)]),t("p",null,[e[14]||(e[14]=t("strong",null,"Description:",-1)),l(" "+o(s.description),1)])]),t("div",le,[e[18]||(e[18]=t("h3",{class:"text-xl font-semibold mb-2"},"Level Info",-1)),t("p",null,[e[16]||(e[16]=t("strong",null,"Name:",-1)),l(" "+o((a=s.levels[0])==null?void 0:a.name),1)]),t("p",null,[e[17]||(e[17]=t("strong",null,"Team Capacity:",-1)),l(" "+o((N=s.levels[0])==null?void 0:N.team_member_limit),1)])])]),t("div",ne,[e[19]||(e[19]=t("h3",{class:"text-xl font-semibold mb-2"},"Benefits",-1)),t("ul",de,[(u(!0),p(E,null,D(s.benefits,(x,y)=>(u(),p("li",{key:y,class:B(x==="Active"?"text-white dark:text-green-400":"line-through text-red-700")},o(y)+" - "+o(x),3))),128))])]),t("div",ue,[t("p",ce,[e[20]||(e[20]=l(" Subscription Price: ")),t("span",pe,o(s.price),1)]),t("button",{onClick:R,disabled:h.value,class:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold rounded-xl shadow transition disabled:opacity-50"},o((T=r.value)!=null&&T.subscription?"Renew Now":"Subscribe Now"),9,be)])])):(u(),p("div",ge," No subscription information found. "))])}}});export{fe as default};
