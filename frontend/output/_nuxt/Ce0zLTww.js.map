{"version":3,"file":"Ce0zLTww.js","sources":["../../../../pages/auth/login.vue"],"sourcesContent":["<template>\r\n  <div class=\"h-screen w-full bg-gray-100 dark:bg-gray-900 flex items-center justify-center\">\r\n    <div class=\"w-full max-w-md p-6 bg-white dark:bg-gray-800 shadow-lg rounded-lg\">\r\n      <!-- Branding -->\r\n      <div class=\"text-center mb-6\">\r\n        <img src=\"/logo.png\" alt=\"Logo\" class=\"mx-auto h-12 mb-2\" />\r\n        <h1 class=\"text-xl font-semibold text-gray-900 dark:text-white\">Welcome to Commernity</h1>\r\n        <p class=\"text-sm text-gray-500 dark:text-gray-400\">Simple. Secure. Seamless Login</p>\r\n\r\n        <NuxtLink\r\n            to=\"/auth/register\"\r\n            class=\"mt-4 inline-block text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors underline\"\r\n        >\r\n          Don’t have an account? Register here\r\n        </NuxtLink>\r\n      </div>\r\n\r\n      <!-- Mode Toggle -->\r\n      <div class=\"flex justify-center mb-6 space-x-6 text-sm\">\r\n        <button :class=\"loginMode === 'mobile' ? activeTab : inactiveTab\" @click=\"switchMode('mobile')\">Mobile Login</button>\r\n        <button :class=\"loginMode === 'email' ? activeTab : inactiveTab\" @click=\"switchMode('email')\">Email Login</button>\r\n      </div>\r\n\r\n      <!-- Mobile Login Form -->\r\n      <form v-if=\"loginMode === 'mobile'\" @submit.prevent=\"handleMobileSubmit\" class=\"space-y-5\">\r\n        <!-- Mobile Number -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Mobile Number</label>\r\n          <input v-model=\"form.mobile\" type=\"tel\" required placeholder=\"+91 9XXXXXXXXX\"\r\n                 class=\"mt-1 w-full px-4 py-2 border rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" />\r\n          <p v-if=\"errors.mobile\" class=\"text-red-500 text-sm mt-1\">{{ errors.mobile }}</p>\r\n        </div>\r\n\r\n        <!-- OTP or Password -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">{{ useOtp ? 'OTP' : 'Password' }}</label>\r\n          <div v-if=\"useOtp\">\r\n            <div v-if=\"!otpSent\">\r\n              <button @click=\"sendOtp\" type=\"button\"\r\n                      class=\"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition\"\r\n                      :disabled=\"sendingOtp\">\r\n                {{ sendingOtp ? 'Sending OTP...' : 'Send OTP' }}\r\n              </button>\r\n            </div>\r\n            <div v-else>\r\n              <!-- OTP Input Fields and Verify Button -->\r\n              <template v-if=\"!otpVerified\">\r\n                <div class=\"flex gap-2 mt-2\">\r\n                  <input v-for=\"(_, i) in 6\" :key=\"i\" v-model=\"otp[i]\" :ref=\"el => otpRefs[i] = el\"\r\n                         maxlength=\"1\" inputmode=\"numeric\" type=\"text\"\r\n                         class=\"w-10 h-10 text-center border rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                         @input=\"onOtpInput(i)\" @keydown.backspace.prevent=\"onOtpBackspace(i)\" />\r\n                </div>\r\n                <button type=\"button\" @click=\"verifyOtp\"\r\n                        class=\"w-full mt-3 bg-green-600 text-white py-2 rounded-md hover:bg-green-700 transition\"\r\n                        :disabled=\"verifyingOtp\">\r\n                  {{ verifyingOtp ? 'Verifying...' : 'Verify OTP' }}\r\n                </button>\r\n\r\n                <!-- Countdown + Resend -->\r\n                <div class=\"text-xs text-gray-500 text-center mt-2\">\r\n                  <span v-if=\"otpCountdown > 0\">Resend OTP in {{ otpCountdown }}s</span>\r\n                  <button v-else @click=\"resendOtp\" class=\"text-blue-600 hover:underline\" type=\"button\">Resend OTP</button>\r\n                </div>\r\n\r\n                <p v-if=\"errors.validated_otp\" class=\"text-red-500 text-sm mt-1\">{{ errors.validated_otp }}</p>\r\n              </template>\r\n\r\n              <!-- Success Message -->\r\n              <p v-else class=\"text-green-600 text-sm mt-3 text-center\">✅ OTP Verified Successfully!</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else class=\"relative\">\r\n            <input\r\n                v-model=\"form.password\"\r\n                :type=\"showPassword ? 'text' : 'password'\"\r\n                required\r\n                placeholder=\"••••••••\"\r\n                class=\"mt-1 w-full px-4 py-2 border rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white pr-10\"\r\n            />\r\n            <button\r\n                type=\"button\"\r\n                @click=\"showPassword = !showPassword\"\r\n                class=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white\"\r\n                tabindex=\"-1\"\r\n            >\r\n              <Icon :name=\"showPassword ? 'heroicons:eye-slash' : 'heroicons:eye'\" class=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n          <p v-if=\"errors.password\" class=\"text-red-500 text-sm mt-1\">{{ errors.password }}</p>\r\n\r\n        </div>\r\n\r\n        <!-- Options -->\r\n        <div class=\"flex justify-between text-sm text-gray-700 dark:text-gray-300\">\r\n          <label class=\"inline-flex items-center\">\r\n            <input type=\"checkbox\" v-model=\"form.remember\" class=\"mr-2\" />\r\n            Remember me\r\n          </label>\r\n          <label class=\"inline-flex items-center\">\r\n            <input type=\"checkbox\" v-model=\"useOtp\" class=\"mr-2\" />\r\n            Login with OTP\r\n          </label>\r\n        </div>\r\n\r\n        <!-- Submit -->\r\n        <button type=\"submit\"\r\n                class=\"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition\"\r\n                :disabled=\"useOtp && !otpVerified\">\r\n          Sign In\r\n        </button>\r\n        <p v-if=\"errors.auth\" class=\"text-red-500 text-sm text-center mt-1\">{{ errors.auth }}</p>\r\n      </form>\r\n\r\n      <!-- Email Login Form -->\r\n      <form v-else @submit.prevent=\"handleEmailLogin\" class=\"space-y-5\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Email</label>\r\n          <input v-model=\"form.email\" type=\"email\" required placeholder=\"you@example.com\"\r\n                 class=\"mt-1 w-full px-4 py-2 border rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" />\r\n        </div>\r\n        <div class=\"relative\">\r\n          <input\r\n              v-model=\"form.password\"\r\n              :type=\"showPassword ? 'text' : 'password'\"\r\n              required\r\n              placeholder=\"••••••••\"\r\n              class=\"mt-1 w-full px-4 py-2 border rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white pr-10\"\r\n          />\r\n          <button\r\n              type=\"button\"\r\n              @click=\"showPassword = !showPassword\"\r\n              class=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white\"\r\n              tabindex=\"-1\"\r\n          >\r\n            <Icon :name=\"showPassword ? 'heroicons:eye-slash' : 'heroicons:eye'\" class=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"flex text-sm text-gray-700 dark:text-gray-300\">\r\n          <label><input type=\"checkbox\" v-model=\"form.remember\" class=\"mr-2\" />Remember me</label>\r\n        </div>\r\n        <button type=\"submit\"\r\n                class=\"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition\">\r\n          Sign In\r\n        </button>\r\n        <p v-if=\"errors.auth\" class=\"text-red-500 text-sm text-center mt-1\">{{ errors.auth }}</p>\r\n      </form>\r\n\r\n      <!-- Social Login -->\r\n      <div class=\"mt-6\">\r\n        <button @click=\"loginWithGoogle\" class=\"w-full flex items-center justify-center gap-3 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          <Icon name=\"logos:google-icon\" class=\"w-5 h-5\" />\r\n          Continue with Google\r\n        </button>\r\n      </div>\r\n\r\n\r\n      <!-- Forgot password -->\r\n      <p class=\"text-center text-sm mt-4\">\r\n        <NuxtLink to=\"/auth/forgot-password\" class=\"text-blue-600 hover:underline\">Forgot your password?</NuxtLink>\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, nextTick, onMounted, onBeforeUnmount } from 'vue'\r\nimport { useRouter, useRuntimeConfig,  useSanctumFetch, useSanctum, useRoute } from '#imports'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()  // for redirect purpose\r\nconst config = useRuntimeConfig()\r\nconst { login } = useSanctum()\r\nconst { isLoggedIn } = useSanctum()\r\nconst showPassword = ref(false)\r\nconst loginMode = ref<'mobile' | 'email'>('mobile')\r\nconst useOtp = ref(false)\r\nconst otpSent = ref(false)\r\nconst otpVerified = ref(false)\r\nconst sendingOtp = ref(false)\r\nconst verifyingOtp = ref(false)\r\nconst otpCountdown = ref(0)\r\nconst countdownInterval = ref<NodeJS.Timeout | null>(null)\r\nconst otp = ref(['', '', '', '', '', ''])\r\nconst otpRefs = ref<HTMLInputElement[]>([])\r\nconst errors = ref<Record<string, string>>({})\r\nconst form = ref({ mobile: '', email: '', password: '', remember: false })\r\n\r\nconst activeTab = 'px-4 py-2 text-blue-600 border-b-2 border-blue-600 font-semibold'\r\nconst inactiveTab = 'px-4 py-2 text-gray-500 hover:text-blue-600'\r\n\r\n\r\nonMounted(() => {\r\n  if (isLoggedIn.value) {\r\n    router.push('/dashboard')\r\n  }\r\n})\r\n\r\nfunction switchMode(mode: 'mobile' | 'email') {\r\n  loginMode.value = mode\r\n  useOtp.value = otpSent.value = otpVerified.value = false\r\n  otp.value = ['', '', '', '', '', '']\r\n  form.value = { mobile: '', email: '', password: '', remember: false }\r\n  errors.value = {}\r\n  clearOtpCountdown()\r\n}\r\n\r\nfunction validateIndianMobile(mobile: string): string | null {\r\n  const cleaned = mobile.trim()\r\n  if (!/^[6-9]\\d{9}$/.test(cleaned)) return 'Enter a valid 10-digit Indian mobile number'\r\n  return null\r\n}\r\n\r\nfunction startOtpCountdown() {\r\n  otpCountdown.value = 60\r\n  countdownInterval.value = setInterval(() => {\r\n    if (otpCountdown.value > 0) otpCountdown.value--\r\n    else clearOtpCountdown()\r\n  }, 1000)\r\n}\r\n\r\nfunction clearOtpCountdown() {\r\n  if (countdownInterval.value) clearInterval(countdownInterval.value)\r\n  countdownInterval.value = null\r\n}\r\n\r\nasync function sendOtp() {\r\n  errors.value.mobile = validateIndianMobile(form.value.mobile) || ''\r\n  if (errors.value.mobile) return\r\n\r\n  sendingOtp.value = true\r\n  try {\r\n    await useSanctumFetch(`${config.public.apiBase}/auth/send-otp`, {\r\n      method: 'POST',\r\n      body: { type: 'mobile', value: form.value.mobile.trim() }\r\n    })\r\n    otpSent.value = true\r\n    startOtpCountdown()\r\n    nextTick(() => otpRefs.value[0]?.focus())\r\n  } catch {\r\n    errors.value.validated_otp = 'Failed to send OTP'\r\n  } finally {\r\n    sendingOtp.value = false\r\n  }\r\n}\r\n\r\nfunction resendOtp() {\r\n  otp.value = ['', '', '', '', '', '']\r\n  otpVerified.value = false\r\n  sendOtp()\r\n}\r\n\r\nasync function verifyOtp() {\r\n  errors.value.validated_otp = ''\r\n  const fullOtp = otp.value.join('')\r\n  if (fullOtp.length !== 6) {\r\n    errors.value.validated_otp = 'Enter 6-digit OTP'\r\n    return\r\n  }\r\n  verifyingOtp.value = true\r\n  try {\r\n    const res = await useSanctumFetch(`${config.public.apiBase}/auth/verify-otp`, {\r\n      method: 'POST',\r\n      body: { type: 'mobile', value: form.value.mobile.trim(), otp: fullOtp }\r\n    })\r\n    if (res.data?.valid) {\r\n      otpVerified.value = true\r\n      clearOtpCountdown()\r\n    } else {\r\n      errors.value.validated_otp = 'Invalid OTP'\r\n    }\r\n  } catch {\r\n    errors.value.validated_otp = 'OTP verification failed'\r\n  } finally {\r\n    verifyingOtp.value = false\r\n  }\r\n}\r\n\r\nasync function handleMobileSubmit() {\r\n  errors.value = {}\r\n  const mobileError = validateIndianMobile(form.value.mobile)\r\n  if (mobileError) {\r\n    errors.value.mobile = mobileError\r\n    return\r\n  }\r\n\r\n  const payload: any = {\r\n    mobile: form.value.mobile.trim(),\r\n    remember: form.value.remember,\r\n    validated_otp: otpVerified.value\r\n  }\r\n  if (!useOtp.value) payload.password = form.value.password\r\n  try {\r\n    await login(payload)\r\n    redirectAfterLogin()\r\n  } catch (e: any) {\r\n    const err = e?.data?.errors || {}\r\n    errors.value.auth = err.mobile?.[0] || err.password?.[0] || e?.data?.message || 'Login failed'\r\n  }\r\n}\r\n\r\nasync function handleEmailLogin() {\r\n  errors.value = {}\r\n  try {\r\n    await login({\r\n      email: form.value.email.trim(),\r\n      password: form.value.password,\r\n      remember: form.value.remember\r\n    })\r\n    redirectAfterLogin()\r\n  } catch (e: any) {\r\n    const err = e?.data?.errors || {}\r\n    errors.value.auth = err.email?.[0] || err.password?.[0] || e?.data?.message || 'Login failed'\r\n  }\r\n}\r\n\r\nfunction onOtpInput(i: number) {\r\n  if (otp.value[i].length === 1 && i < 5) nextTick(() => otpRefs.value[i + 1]?.focus())\r\n}\r\nfunction onOtpBackspace(i: number) {\r\n  if (otp.value[i] === '' && i > 0) nextTick(() => otpRefs.value[i - 1]?.focus())\r\n}\r\n\r\n\r\nfunction redirectAfterLogin() {\r\n  let target = '/dashboard'\r\n  if (route.query.ref) {\r\n    try {\r\n      target = atob(route.query.ref as string)\r\n    } catch (e) {\r\n      console.error(\"Invalid ref param:\", e)\r\n    }\r\n  }\r\n  router.push(target)\r\n}\r\n\r\n\r\nfunction loginWithGoogle() {\r\n  window.location.href = `${config.public.webBase}/auth/google/redirect`\r\n}\r\n\r\n\r\nonBeforeUnmount(clearOtpCountdown)\r\n</script>\r\n"],"names":["activeTab","inactiveTab","router","useRouter","route","useRoute","config","useRuntimeConfig","login","useSanctum","isLoggedIn","showPassword","ref","loginMode","useOtp","otpSent","otpVerified","sendingOtp","verifyingOtp","otpCountdown","countdownInterval","otp","otpRefs","errors","form","onMounted","switchMode","mode","clearOtpCountdown","validateIndianMobile","mobile","cleaned","startOtpCountdown","setInterval","sendOtp","useSanctumFetch","nextTick","_a","resendOtp","verifyOtp","fullOtp","handleMobileSubmit","mobileError","payload","redirectAfterLogin","e","err","_b","_c","_d","handleEmailLogin","onOtpInput","i","onOtpBackspace","target","loginWithGoogle","onBeforeUnmount","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_imports_0","_cache","_createVNode","_component_NuxtLink","_hoisted_4","_normalizeClass","$event","_vModelText","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_10","_hoisted_17","_Fragment","_hoisted_11","_renderList","_","el","_withKeys","_withModifiers","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_8","_hoisted_9","_hoisted_18","_vModelDynamic","_component_Icon","_hoisted_20","_hoisted_21","_hoisted_22","_vModelCheckbox","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31"],"mappings":"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"}