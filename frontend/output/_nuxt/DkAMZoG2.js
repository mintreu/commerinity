import{_ as I}from"./CzGapVpC.js";import{_ as $}from"./KQNRGUnb.js";import{b4 as M,bd as y,aY as t,bg as p,b5 as o,be as g,bf as w,bG as P,a_ as e,bj as C,b9 as T,aX as A,by as D,bl as L,bB as N,bh as q,b8 as h,bq as E,bC as j,ba as B,aZ as v,b7 as Q,bo as O,aW as R,bt as S,bc as V,bE as z}from"./B132AJ_X.js";import{_ as F}from"./9ODZ5HSV.js";import"./CxFjDksO.js";import{u as H}from"./nfvvACxY.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};i.SENTRY_RELEASE={id:"3703708ef9ac1b45e23fc2a6a145a79341d4c60a"}}catch{}})();try{(function(){var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new i.Error().stack;a&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[a]="a743f49f-403c-4dca-84dd-29615a3fe091",i._sentryDebugIdIdentifier="sentry-dbid-a743f49f-403c-4dca-84dd-29615a3fe091")})()}catch{}const Y={class:"flex flex-col md:flex-row w-full"},W={key:0,class:"hidden md:flex flex-col gap-2 w-24 mr-4 overflow-y-auto max-h-[500px]"},G=["onClick"],U=["src"],X={class:"flex-1 flex flex-col items-center"},K=["src"],Z={key:0,class:"flex gap-2 mt-4 overflow-x-auto w-full"},J=["onClick"],ee=["src"],te=M({__name:"ProductMediaSlider",props:{media:{type:Array,required:!0},thumbPosition:{type:String,default:"left"}},setup(i){const a=i,c=y(0);function _(d){c.value=d<a.media.length?d:a.media.length-1}function l(d){return/\.(mp4|webm|ogg)$/i.test(d)}const f=y(2),b=y("50% 50%"),n=y(!1);function s(d){const u=d.currentTarget.getBoundingClientRect(),r=(d.clientX-u.left)/u.width*100,k=(d.clientY-u.top)/u.height*100;b.value=`${r}% ${k}%`}function m(d){d.preventDefault(),f.value+=d.deltaY<0?.2:-.2,f.value=Math.max(1.5,Math.min(4,f.value))}return(d,x)=>(e(),t("div",Y,[i.thumbPosition==="left"?(e(),t("div",W,[(e(!0),t(g,null,w(a.media,(u,r)=>(e(),t("div",{key:r,class:"cursor-pointer border rounded overflow-hidden",onClick:k=>_(r)},[l(u)?(e(),t("video",{key:1,src:u,class:"w-20 h-20 object-cover",muted:""},null,8,U)):(e(),C(T($),{key:0,src:u,class:"w-20 h-20 object-cover"},null,8,["src"]))],8,G))),128))])):p("",!0),o("div",X,[o("div",{class:"relative w-full h-[400px] md:h-[500px] bg-gray-100 overflow-hidden rounded-lg",onMousemove:s,onMouseenter:x[0]||(x[0]=u=>n.value=!0),onMouseleave:x[1]||(x[1]=u=>n.value=!1),onWheel:m},[l(a.media[c.value])?(e(),t("video",{key:1,controls:"",class:"w-full h-full object-contain",src:a.media[c.value]},null,8,K)):(e(),t("div",{key:0,class:"w-full h-full bg-center bg-no-repeat transition-all duration-100",style:P({backgroundImage:`url(${a.media[c.value]})`,backgroundSize:n.value?`${f.value*100}%`:"contain",backgroundPosition:n.value?b.value:"center",backgroundRepeat:"no-repeat"})},null,4))],32),i.thumbPosition==="bottom"?(e(),t("div",Z,[(e(!0),t(g,null,w(a.media,(u,r)=>(e(),t("div",{key:r,class:"cursor-pointer border rounded overflow-hidden flex-shrink-0",onClick:k=>_(r)},[l(u)?(e(),t("video",{key:1,src:u,class:"w-20 h-20 object-cover",muted:""},null,8,ee)):(e(),C(T($),{key:0,src:u,class:"w-20 h-20 object-cover"},null,8,["src"]))],8,J))),128))])):p("",!0)])]))}}),se=A(te,[["__scopeId","data-v-1efdc642"]]),oe={key:0,class:"w-full h-full mx-auto px-4 space-y-12 tiptap-editor"},ne={key:0,class:"tiptap-prosemirror-wrapper mx-auto w-full h-full overflow-hidden rounded-b-md prosemirror-w-5xl"},le={class:"tiptap-content min-h-full"},ae=["innerHTML"],re=M({__name:"FilamentTipTapContent",props:{text:{}},setup(i){const a=i;return(c,_)=>a.text?(e(),t("main",oe,[a.text?(e(),t("div",ne,[o("div",le,[o("div",{innerHTML:a.text},null,8,ae)])])):p("",!0)])):p("",!0)}}),ie={class:"flex items-center gap-3"},ue=["value"],de=["disabled"],ce={key:0},fe={key:1},me=M({__name:"AddToCartWithQuantitySelector",props:{sku:{type:String,required:!0},minQuantity:{type:Number,default:1},maxQuantity:{type:Number,default:10}},setup(i){const a=i,c=y(!1),{addToCart:_}=H(),l=D(()=>{const n=[];for(let s=a.minQuantity;s<=a.maxQuantity;s++)n.push(s);return n}),f=y(a.minQuantity);async function b(){if(a.sku){c.value=!0;try{await _(a.sku,f.value)}catch(n){console.error("Add to cart failed:",n),alert("Failed to add to cart")}finally{c.value=!1}}}return(n,s)=>(e(),t("div",ie,[L(o("select",{"onUpdate:modelValue":s[0]||(s[0]=m=>f.value=m),class:"px-3 py-2 border rounded bg-white dark:bg-gray-700 dark:text-white"},[(e(!0),t(g,null,w(l.value,m=>(e(),t("option",{key:m,value:m},h(m),9,ue))),128))],512),[[N,f.value,void 0,{number:!0}]]),o("button",{disabled:c.value,onClick:b,class:q(["px-6 py-3 rounded transition-colors duration-200",c.value?"bg-gray-400 text-gray-100 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"])},[c.value?(e(),t("span",ce,"Adding...")):(e(),t("span",fe,"Add to Cart"))],10,de)]))}}),pe={class:"w-full h-full mt-16 px-4 lg:px-20"},_e={key:1},ve={class:"mt-14 mr-5"},xe={key:0,class:"max-w-7xl mx-auto px-5 py-8 h-full flex flex-col gap-4 bg-gray-200 dark:bg-gray-800 rounded-2xl"},ye={class:"flex flex-col md:flex-row gap-4"},be={class:"w-full md:w-2/5 px-3"},he={class:"grow"},ge={class:"text-2xl md:text-6xl font-roboto font-semibold"},we={key:0,class:"md:flex flex-row gap-2 my-1 hidden"},ke={class:"px-3 py-0.5 bg-green-300 hover:bg-blue-600 hover:text-white rounded-xl shadow-md"},$e={class:"text-xl font-semibold my-3 flex flex-row items-center gap-2"},Ce={class:"text-3xl"},Te={key:1,class:"w-full"},Me={key:0,class:"w-full gap-3 flex flex-col"},Se={key:2,class:"mt-6"},Ae={class:"space-y-3"},Ie={class:"ml-2"},Pe={class:"font-medium text-green-600 dark:text-green-400"},De={key:3,class:"w-full mt-2"},Le=["innerHTML"],Ne={class:"w-full"},qe={__name:"[url]",setup(i){const a=E(),c=R(),_=j("pageLoading",()=>!1),l=y(null);async function f(){try{const n=await O(`${c.public.apiBase}/products/${a.params.url}`,{method:"GET"});l.value=(n==null?void 0:n.data)??[]}catch(n){console.error("[âœ˜] Failed to load suggestion products",n)}}B(async()=>{try{await f()}catch(n){console.error("Api fetch failed!",n)}finally{_.value=!1}});const b=n=>{if(!n)return"";let s=n.discount??"";return(n.discount_type==="by_percent"||n.discount_type==="to_percent")&&(s+="%"),`${n.sale.name} Offer ${s} off ${n.sale.description}`};return(n,s)=>{var u;const m=I,d=$,x=V;return e(),t("div",pe,[T(_)?(e(),C(z,{key:0})):(e(),t("div",_e,[o("div",ve,[v(F)]),l.value?(e(),t("div",xe,[o("div",ye,[o("div",be,[v(se,{media:l.value.banner},null,8,["media"])]),o("div",he,[o("h1",ge,h(l.value.name),1),o("small",null,"SKU : "+h(l.value.sku),1),l.value.categories?(e(),t("div",we,[s[0]||(s[0]=o("span",null,"Categories:",-1)),(e(!0),t(g,null,w(l.value.categories,r=>(e(),t("div",{key:r.url,class:"flex flex-row gap-1"},[v(m,{to:`/category/${r.url}`},{default:S(()=>[o("span",ke,h(r.name),1)]),_:2},1032,["to"])]))),128))])):p("",!0),s[6]||(s[6]=o("hr",null,null,-1)),o("h2",$e,[s[1]||(s[1]=Q("Price : ")),o("span",Ce,h(l.value.price),1)]),l.value.parent?(e(),t("div",Te,[l.value.parent.variants?(e(),t("div",Me,[s[2]||(s[2]=o("h2",{class:"text-lg font-semibold"},"Available Options :",-1)),(e(!0),t(g,null,w(l.value.parent.variants,r=>(e(),t("div",{key:r.url,class:"w-full flex flex-row gap-3"},[v(m,{to:`/product/${r.url}`},{default:S(()=>[o("div",null,[v(d,{loading:"lazy",src:r.thumbnail,class:"h-14 w-full object-contain rounded mb-4"},null,8,["src"])])]),_:2},1032,["to"])]))),128))])):p("",!0)])):p("",!0),(u=l.value.sales)!=null&&u.length?(e(),t("div",Se,[s[4]||(s[4]=o("h3",{class:"text-base font-semibold mb-3 text-gray-900 dark:text-gray-100"}," Available Offers ",-1)),o("ul",Ae,[(e(!0),t(g,null,w(l.value.sales,r=>(e(),t("li",{key:r.sale.uuid,class:"flex items-start text-sm text-gray-700 dark:text-gray-300"},[v(x,{name:"mdi:tag-outline",class:"flex-shrink-0 w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),o("span",Ie,[o("span",Pe,h(b(r)),1),s[3]||(s[3]=o("span",{class:"ml-1 text-blue-600 dark:text-blue-400 cursor-pointer hover:underline"}," T&C ",-1))])]))),128))])])):p("",!0),v(me,{sku:l.value.sku,"min-quantity":l.value.min_quantity,"max-quantity":l.value.max_quantity,class:"mt-2 w-96"},null,8,["sku","min-quantity","max-quantity"]),l.value.short_description?(e(),t("div",De,[s[5]||(s[5]=o("h2",{class:"font-semibold text-xl"},"Overview :",-1)),o("p",{innerHTML:l.value.short_description},null,8,Le)])):p("",!0)])]),o("div",Ne,[s[7]||(s[7]=o("h2",{class:"font-semibold text-2xl"},"Description",-1)),v(re,{text:l.value.description},null,8,["text"])])])):p("",!0)]))])}}},Ve=A(qe,[["__scopeId","data-v-46a529c1"]]);export{Ve as default};
