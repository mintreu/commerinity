{"version":3,"file":"DtDrwCQr.js","sources":["../../../../components/cart/GuestCartForm.vue","../../../../pages/cart/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { reactive, watch, ref, onMounted } from \"vue\"\r\nimport { useSanctumFetch, useRuntimeConfig } from \"#imports\"\r\n\r\nconst props = defineProps<{ modelValue?: Record<string, any> }>()\r\nconst emit = defineEmits<{ (e: \"update:modelValue\", value: Record<string, any>): void }>()\r\n\r\nconst config = useRuntimeConfig()\r\n\r\n// Form state\r\nconst guestForm = reactive({\r\n  customer_name: \"\",\r\n  customer_email: \"\",\r\n  customer_mobile: \"\",\r\n  address_1: \"\",\r\n  landmark: \"\",\r\n  state: \"\",\r\n  city: \"\",\r\n  district: \"\",\r\n  postal_code: \"\",\r\n  block_id: \"\",\r\n})\r\n\r\n// Lists\r\nconst stateList = ref<any[]>([])\r\nconst districtList = ref<string[]>([])\r\nconst blockList = ref<Array<{ name: string; url: string }>>([])\r\n\r\n// Prefill\r\nif (props.modelValue) {\r\n  Object.assign(guestForm, props.modelValue)\r\n}\r\n\r\n// Emit changes\r\nwatch(guestForm, (val) => {\r\n  emit(\"update:modelValue\", { ...val })\r\n}, { deep: true, immediate: true })\r\n\r\n// Fetch states\r\nasync function fetchStates() {\r\n  const res = await useSanctumFetch(`${config.public.apiBase}/geo/states/IN`)\r\n  stateList.value = res.data\r\n}\r\n\r\n// Fetch blocks & districts\r\nasync function fetchBlocks() {\r\n  if (!guestForm.state) return\r\n  const res = await useSanctumFetch(`${config.public.apiBase}/geo/state/${guestForm.state}`)\r\n  const blocks = res.data.blocks || []\r\n\r\n  blockList.value = blocks.map((b: any) => {\r\n    const name = b.name || b.block_name || \"\"\r\n    const url = b.url || b.id || name\r\n    return { name, url: String(url) }\r\n  })\r\n\r\n  districtList.value = [...new Set(blocks.map((b: any) => b.district).filter(Boolean))]\r\n}\r\n\r\nonMounted(() => {\r\n  fetchStates()\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"w-full flex flex-col gap-4 text-sm\">\r\n    <!-- Customer Info -->\r\n    <div class=\"space-y-2\">\r\n      <input v-model=\"guestForm.customer_name\" type=\"text\" placeholder=\"Full Name\" class=\"input w-full\" required />\r\n      <input v-model=\"guestForm.customer_email\" type=\"email\" placeholder=\"Email\" class=\"input w-full\" required />\r\n      <input v-model=\"guestForm.customer_mobile\" type=\"tel\" placeholder=\"Mobile\" class=\"input w-full\" required />\r\n    </div>\r\n\r\n    <!-- Delivery Address -->\r\n    <div class=\"space-y-2\">\r\n      <h2 class=\"font-semibold text-base\">Delivery Address</h2>\r\n\r\n      <input v-model=\"guestForm.address_1\" type=\"text\" placeholder=\"Address Line\" class=\"input w-full\" required />\r\n      <input v-model=\"guestForm.landmark\" type=\"text\" placeholder=\"Landmark\" class=\"input w-full\" />\r\n\r\n      <!-- State -->\r\n      <select v-model=\"guestForm.state\" @change=\"fetchBlocks\" class=\"input w-full\" required>\r\n        <option disabled value=\"\">Select State</option>\r\n        <option v-for=\"state in stateList\" :key=\"state.code\" :value=\"state.code\">{{ state.name }}</option>\r\n      </select>\r\n\r\n      <!-- District -->\r\n      <select v-model=\"guestForm.city\" class=\"input w-full\" required>\r\n        <option disabled value=\"\">Select District</option>\r\n        <option v-for=\"d in districtList\" :key=\"d\" :value=\"d\">{{ d }}</option>\r\n      </select>\r\n\r\n      <!-- Block -->\r\n      <select v-model=\"guestForm.block_id\" class=\"input w-full\">\r\n        <option disabled value=\"\">Select Block</option>\r\n        <option v-for=\"block in blockList\" :key=\"block.url\" :value=\"block.url\">{{ block.name }}</option>\r\n      </select>\r\n\r\n      <input v-model=\"guestForm.postal_code\" type=\"text\" placeholder=\"Postal Code\" class=\"input w-full\" required />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.input {\r\n  @apply border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"w-full container mx-auto px-4 py-6 space-y-6 text-gray-900 dark:text-gray-100\">\r\n    <!-- Loader -->\r\n    <GlobalLoader v-if=\"isLoading\"/>\r\n\r\n    <div v-else>\r\n      <h1 class=\"text-2xl md:text-3xl font-semibold\">My Cart</h1>\r\n\r\n      <div class=\"flex flex-col md:flex-row gap-6\">\r\n        <!-- Cart Items + Summary -->\r\n        <aside class=\"w-full md:w-2/3 space-y-6\">\r\n          <div class=\"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl p-4\">\r\n            <h2 class=\"text-lg font-semibold\">Items in My Cart</h2>\r\n            <hr class=\"my-2 border-gray-300 dark:border-gray-600\"/>\r\n\r\n            <div v-if=\"cartData?.items?.length\" class=\"space-y-4 h-96 overflow-y-scroll\">\r\n              <div\r\n                  v-for=\"item in cartData.items\"\r\n                  :key=\"item.product_id\"\r\n                  class=\"flex items-center justify-between border-b pb-4 border-gray-200 dark:border-gray-700\"\r\n              >\r\n                <NuxtImg :src=\"item.product.thumbnail\" class=\"w-20 h-20 object-cover rounded\"/>\r\n                <div class=\"flex-1 px-4\">\r\n                  <h3 class=\"font-medium\">{{ item.product.name }}</h3>\r\n                  <p class=\"text-xs text-gray-500 dark:text-gray-400\">{{ item.product.sku }}</p>\r\n                  <div class=\"flex items-center mt-2 space-x-2\">\r\n                    <button @click=\"decrement(item)\" :disabled=\"item.quantity <= item.product.min_quantity\">−</button>\r\n                    <input\r\n                        type=\"number\"\r\n                        v-model.number=\"item.quantity\"\r\n                        class=\"w-12 text-center border rounded bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600\"\r\n                        :min=\"item.product.min_quantity\"\r\n                        :max=\"item.product.max_quantity\"\r\n                        @change=\"updateCartItem(item.product.sku, item.quantity)\"\r\n\r\n                    />\r\n                    <button @click=\"increment(item)\" :disabled=\"item.quantity >= item.product.max_quantity\">+</button>\r\n                    <button @click=\"removeItem(item.product.sku)\" class=\"text-red-500 text-sm ml-4\">Remove</button>\r\n                  </div>\r\n                </div>\r\n                <div class=\"text-right\">\r\n                  <div>{{ item.total }}</div>\r\n                  <div class=\"text-xs text-gray-500 dark:text-gray-400\">{{ item.quantity }} × {{\r\n                      item.product.price\r\n                    }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-else><p>Your cart is empty.</p></div>\r\n          </div>\r\n\r\n          <!-- Coupon + Summary Card -->\r\n          <div class=\"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl p-4 space-y-4\">\r\n            <!-- Coupon Input -->\r\n            <div class=\"flex flex-col md:flex-row gap-4 items-center\">\r\n              <input\r\n                  v-model=\"couponCode\"\r\n                  type=\"text\"\r\n                  placeholder=\"Enter coupon code\"\r\n                  class=\"input flex-grow bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100\"\r\n              />\r\n              <button\r\n                  @click=\"applyCoupon\"\r\n                  class=\"bg-green-600 dark:bg-green-500 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n              >\r\n                Apply\r\n              </button>\r\n            </div>\r\n\r\n            <!-- Sales / Offers -->\r\n            <div v-if=\"applicableSales?.length\" class=\"space-y-2\">\r\n              <h3 class=\"font-semibold text-sm text-gray-700 dark:text-gray-300\">Applied Offers</h3>\r\n              <ul class=\"space-y-1\">\r\n                <li\r\n                    v-for=\"sale in applicableSales\"\r\n                    :key=\"sale.id\"\r\n                    class=\"flex items-center text-xs text-green-600 dark:text-green-400\"\r\n                >\r\n                  <Icon name=\"mdi:check-circle\" class=\"w-4 h-4 mr-1\"/>\r\n                  {{ sale.title }}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <!-- Summary Breakdown -->\r\n            <div class=\"space-y-2 text-sm\">\r\n              <!-- Subtotal -->\r\n              <div class=\"flex justify-between\">\r\n                <span>Subtotal ({{ cartData?.summary?.quantity ?? 0 }} items)</span>\r\n                <span>{{ cartData?.summary?.sub_total ?? '—' }}</span>\r\n              </div>\r\n\r\n              <!-- Tax -->\r\n              <div class=\"flex justify-between\">\r\n                <span>Tax ({{ cartData?.summary?.tax_percentage ?? 0 }}%)</span>\r\n                <span>{{ cartData?.summary?.tax ?? '—' }}</span>\r\n              </div>\r\n\r\n              <!-- Discount -->\r\n              <div\r\n                  class=\"flex justify-between\"\r\n                  :class=\"(cartData?.summary?.discount && cartData.summary.discount !== '₹0.00')\r\n            ? 'text-green-600'\r\n            : 'text-gray-500 dark:text-gray-400'\"\r\n              >\r\n                <span>\r\n                  Discount\r\n                  <span v-if=\"cartData?.summary?.coupon_code\">\r\n                    (Coupon: {{ cartData?.summary?.coupon_code }})\r\n                  </span>\r\n                </span>\r\n                              <span>\r\n                  -{{ cartData?.summary?.discount ?? '₹0.00' }}\r\n                </span>\r\n              </div>\r\n\r\n\r\n              <!-- Total -->\r\n              <div class=\"flex justify-between font-bold text-lg border-t border-gray-300 dark:border-gray-700 pt-2\">\r\n                <span>Total Payable</span>\r\n                <span>{{ cartData?.summary?.total ?? '—' }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Total in Words -->\r\n            <div v-if=\"cartData?.summary?.total\" class=\"text-xs text-gray-500 dark:text-gray-400 italic\">\r\n              ({{ totalInWords(cartData.summary.total) }})\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <!-- Suggestion Products -->\r\n          <section v-if=\"suggestionProducts.length\">\r\n            <h2 class=\"text-2xl font-bold mb-6\">Users Also Buy</h2>\r\n            <Swiper\r\n                :slides-per-view=\"1\"\r\n                :space-between=\"20\"\r\n                :breakpoints=\"{ 640: { slidesPerView: 2 }, 768: { slidesPerView: 3 }, 1024: { slidesPerView: 4 } }\"\r\n                class=\"my-6\"\r\n            >\r\n              <SwiperSlide v-for=\"product in suggestionProducts\" :key=\"product.sku\">\r\n                <div\r\n                    class=\"border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow-lg transition bg-white dark:bg-gray-900 flex flex-col h-full\"\r\n                >\r\n                  <NuxtLink :to=\"`/product/${product.url}`\" class=\"flex-1 block\">\r\n                    <img :src=\"product.thumbnail\" alt=\"\" class=\"h-40 w-full object-cover rounded mb-4\"/>\r\n                    <h3 class=\"font-semibold mb-1\">{{ product.name }}</h3>\r\n                    <p class=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{{ product.price }}</p>\r\n                    <p class=\"text-xs text-gray-400 dark:text-gray-500 mb-2\">{{ product.short_description }}</p>\r\n                  </NuxtLink>\r\n                  <div class=\"mt-auto pt-2\">\r\n                    <AddToCartButton :sku=\"product.sku\" :quantity=\"1\"/>\r\n                  </div>\r\n                </div>\r\n              </SwiperSlide>\r\n            </Swiper>\r\n          </section>\r\n        </aside>\r\n\r\n        <!-- Checkout Form -->\r\n        <section\r\n            class=\"w-full md:w-1/3 border border-gray-300 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800\">\r\n          <form @submit.prevent=\"submitOrder\" class=\"space-y-6\">\r\n            <!-- Guest Info (if not logged in) -->\r\n            <div v-if=\"!isLoggedIn\">\r\n              <GuestCartForm v-model=\"guestForm\"/>\r\n            </div>\r\n\r\n            <!-- Billing -->\r\n            <!-- Billing Info -->\r\n            <fieldset v-if=\"isLoggedIn\"\r\n                      class=\"border rounded-md p-4 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800\">\r\n              <legend class=\"font-semibold text-gray-700 dark:text-gray-200\">Billing Info</legend>\r\n\r\n              <div v-if=\"sortedUserAddresses.length\" class=\"grid gap-4 mt-2\">\r\n                <input\r\n                    v-model=\"checkoutForm.billing.name\"\r\n                    type=\"text\"\r\n                    placeholder=\"Full Name\"\r\n                    class=\"input bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 rounded-md\"\r\n                />\r\n                <input\r\n                    v-model=\"checkoutForm.billing.email\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    class=\"input bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 rounded-md\"\r\n                />\r\n                <input\r\n                    v-model=\"checkoutForm.billing.mobile\"\r\n                    type=\"text\"\r\n                    placeholder=\"Mobile\"\r\n                    class=\"input bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 rounded-md\"\r\n                />\r\n                <select\r\n                    v-model=\"checkoutForm.billing.address\"\r\n                    @change=\"onAddressSelect('billing', checkoutForm.billing.address)\"\r\n                    class=\"input bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 rounded-md\"\r\n                >\r\n                  <option disabled value=\"\">Select Address</option>\r\n                  <option v-for=\"addr in sortedUserAddresses\" :key=\"addr.uuid\" :value=\"addr.uuid\">\r\n                    {{ addr.title }} - {{ addr.city }}, {{ addr.state.name }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n\r\n              <div class=\"mt-2 text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2\">\r\n                <span class=\"grow\">No billing addresses found.</span>\r\n                <NuxtLink\r\n                    to=\"/dashboard/account/address\"\r\n                    class=\"flex items-center gap-1 text-indigo-600 dark:text-indigo-400 font-medium hover:underline hover:text-indigo-500 dark:hover:text-indigo-300 transition\"\r\n                >\r\n                  <Icon name=\"mdi:plus-circle-outline\" class=\"w-4 h-4\"/>\r\n                  Add Address\r\n                </NuxtLink>\r\n              </div>\r\n            </fieldset>\r\n\r\n            <!-- Shipping Info -->\r\n            <fieldset v-if=\"isLoggedIn\"\r\n                      class=\"border rounded-md p-4 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 mt-4\">\r\n              <legend class=\"font-semibold text-gray-700 dark:text-gray-200\">Shipping Info</legend>\r\n\r\n              <label class=\"inline-flex items-center space-x-2 text-gray-700 dark:text-gray-200\">\r\n                <input type=\"checkbox\" v-model=\"billingIsShipping\"\r\n                       class=\"form-checkbox text-indigo-600 dark:text-indigo-400 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded\"/>\r\n                <span>Same as billing</span>\r\n              </label>\r\n\r\n              <div v-if=\"!billingIsShipping && sortedUserAddresses.length\" class=\"grid gap-4 mt-2\">\r\n                <input\r\n                    v-model=\"checkoutForm.shipping.name\"\r\n                    type=\"text\"\r\n                    placeholder=\"Full Name\"\r\n                    class=\"input bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 rounded-md\"\r\n                />\r\n                <input\r\n                    v-model=\"checkoutForm.shipping.email\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    class=\"input bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 rounded-md\"\r\n                />\r\n                <input\r\n                    v-model=\"checkoutForm.shipping.mobile\"\r\n                    type=\"text\"\r\n                    placeholder=\"Mobile\"\r\n                    class=\"input bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 rounded-md\"\r\n                />\r\n                <select\r\n                    v-model=\"checkoutForm.shipping.address\"\r\n                    @change=\"onAddressSelect('shipping', checkoutForm.shipping.address)\"\r\n                    class=\"input bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 rounded-md\"\r\n                >\r\n                  <option disabled value=\"\">Select Address</option>\r\n                  <option v-for=\"addr in sortedUserAddresses\" :key=\"addr.uuid\" :value=\"addr.uuid\">\r\n                    {{ addr.title }} - {{ addr.city }}, {{ addr.state.name }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </fieldset>\r\n\r\n\r\n            <!-- Gift & Estimate -->\r\n            <fieldset class=\"border rounded-md p-4 border-gray-300 dark:border-gray-600\">\r\n              <legend class=\"font-semibold\">Extras</legend>\r\n              <label class=\"inline-flex items-center space-x-2\">\r\n                <input type=\"checkbox\" v-model=\"checkoutForm.gift\" class=\"form-checkbox\"/>\r\n                <span>Gift wrapping</span>\r\n              </label>\r\n              <p class=\"mt-2 text-sm\">Estimated delivery: <strong>{{ estimatedDelivery }}</strong></p>\r\n            </fieldset>\r\n\r\n            <!-- Payment -->\r\n            <fieldset class=\"border rounded-md p-4 border-gray-300 dark:border-gray-600\">\r\n              <legend class=\"font-semibold\">Payment Method</legend>\r\n              <div v-if=\"paymentProviders.length\" class=\"flex flex-col gap-4 mt-2 max-h-60 overflow-y-auto\">\r\n                <label\r\n                    v-for=\"provider in paymentProviders\"\r\n                    :key=\"provider.url\"\r\n                    class=\"flex items-center gap-4 border rounded-md p-2 cursor-pointer hover:shadow-md transition\"\r\n                    :class=\"{ 'ring-2 ring-blue-500': checkoutForm.payment === provider.url }\"\r\n                >\r\n                  <input type=\"radio\" :value=\"provider.url\" v-model=\"checkoutForm.payment\" class=\"form-radio\"/>\r\n                  <img :src=\"provider.thumbnail\" :alt=\"provider.name\" class=\"w-12 h-12 object-contain\"/>\r\n                  <span class=\"text-sm\">{{ provider.name }}</span>\r\n                </label>\r\n              </div>\r\n              <div v-else class=\"text-sm\">No payment providers available.</div>\r\n            </fieldset>\r\n\r\n            <!-- ONE BUTTON for both guest & logged in -->\r\n            <button type=\"submit\" class=\"btn-primary w-full\">Place Order</button>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {ref, reactive, computed, onMounted, watch} from 'vue'\r\nimport {useSanctum, useSanctumFetch, useRuntimeConfig, useToast} from '#imports'\r\nimport {Swiper, SwiperSlide} from 'swiper/vue'\r\nimport 'swiper/css'\r\nimport {useCart} from '~/composables/useCart'\r\nimport AddToCartButton from '~/components/cart/AddToCartButton.vue'\r\nimport GlobalLoader from '~/components/GlobalLoader.vue'\r\nimport GuestCartForm from '~/components/cart/GuestCartForm.vue'\r\n\r\nconst {isLoggedIn} = useSanctum()\r\nconst config = useRuntimeConfig()\r\nconst isLoading = useState('pageLoading', () => false)\r\nconst toast = useToast()\r\n\r\nconst {cartData, updateCartItem, removeItem, applyCoupon, fetchCart} = useCart()\r\n\r\nconst couponCode = ref('')\r\nconst billingIsShipping = ref(false)\r\nconst paymentProviders = ref<any[]>([])\r\nconst suggestionProducts = ref<any[]>([])\r\n\r\nconst checkoutForm = reactive({\r\n  billing: {name: '', email: '', mobile: '', address: ''},\r\n  shipping: {name: '', email: '', mobile: '', address: ''},\r\n  gift: false,\r\n  payment: '',\r\n})\r\n\r\nconst guestForm = ref<Record<string, any>>({})\r\n\r\nconst estimatedDelivery = computed(() => (checkoutForm.shipping.address ? '3–5 business days' : '—'))\r\n\r\n// --- Fetching data ---\r\nonMounted(async () => {\r\n  try {\r\n    await fetchCart()\r\n    await fetchSuggestionProducts()\r\n    if (isLoggedIn.value) await fetchUserAddress()\r\n\r\n    const providerRes = await useSanctumFetch(`${config.public.apiBase}/integration/payment`)\r\n    paymentProviders.value = providerRes?.data || []\r\n    const defaultProvider = paymentProviders.value.find(p => p.default === 1)\r\n    if (defaultProvider) checkoutForm.payment = defaultProvider.url\r\n  } catch (e) {\r\n    console.error('API fetch failed!', e)\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n})\r\n\r\nasync function fetchSuggestionProducts() {\r\n  try {\r\n    const res = await useSanctumFetch(`${config.public.apiBase}/products/suggestions/get`)\r\n    suggestionProducts.value = res?.data ?? []\r\n  } catch (e) {\r\n    console.error('Failed to load suggestion products', e)\r\n  }\r\n}\r\n\r\nconst userAddresses = ref<any[]>([])\r\nconst sortedUserAddresses = computed(() => [...(userAddresses.value || [])].sort((a, b) => a.priority - b.priority))\r\n\r\nasync function fetchUserAddress() {\r\n  try {\r\n    const res = await useSanctumFetch(`${config.public.apiBase}/account/addresses`)\r\n    userAddresses.value = res?.data || []\r\n    const defaultHome = userAddresses.value.find(a => a.type?.toLowerCase() === 'home' && a.default)\r\n    if (defaultHome) {\r\n      checkoutForm.billing.address = defaultHome.uuid\r\n      onAddressSelect('billing', defaultHome.uuid)\r\n    }\r\n  } catch (e) {\r\n    toast.error({title: 'Error', message: '❌ Failed fetching addresses', timeout: 3000, position: 'topRight'})\r\n  }\r\n}\r\n\r\n// function onAddressSelect(type: 'billing' | 'shipping', uuid: string) {\r\n//   const addr = userAddresses.value.find(a => a.uuid === uuid)\r\n//   if (!addr) return\r\n//   const userInfo = cartData.value?.customer || {}\r\n//   checkoutForm[type].name = userInfo.name || ''\r\n//   checkoutForm[type].email = userInfo.email || ''\r\n//   checkoutForm[type].mobile = userInfo.mobile || ''\r\n//   checkoutForm[type].address = addr.uuid\r\n// }\r\n\r\n\r\nasync function onAddressSelect(type: 'billing' | 'shipping', uuid: string) {\r\n  if (!uuid) return\r\n\r\n  try {\r\n    const res = await useSanctumFetch(`${config.public.apiBase}/account/addresses/${uuid}`)\r\n    const addr = res?.data\r\n    if (!addr) return\r\n\r\n    checkoutForm[type].name = addr.person_name || ''\r\n    checkoutForm[type].email = addr.person_email || ''\r\n    checkoutForm[type].mobile = addr.person_mobile || ''\r\n    checkoutForm[type].address = addr.uuid\r\n  } catch (e) {\r\n    toast.error({title: 'Error', message: '❌ Failed fetching address details', timeout: 3000})\r\n  }\r\n}\r\n\r\n\r\n// Sync shipping = billing if checkbox checked\r\nwatch(billingIsShipping, val => {\r\n  if (val) checkoutForm.shipping = {...checkoutForm.billing}\r\n})\r\nwatch(\r\n    () => checkoutForm.billing,\r\n    val => {\r\n      if (billingIsShipping.value) checkoutForm.shipping = {...val}\r\n    },\r\n    {deep: true}\r\n)\r\n\r\n// --- Submit order ---\r\nasync function submitOrder() {\r\n  if (!checkoutForm.payment) {\r\n    alert('Select payment method.')\r\n    return\r\n  }\r\n\r\n  let payload: Record<string, any>\r\n\r\n  if (isLoggedIn.value) {\r\n    payload = {\r\n      billing_address: checkoutForm.billing.address,\r\n      shipping_address: checkoutForm.shipping.address,\r\n      gift: checkoutForm.gift,\r\n      payment_provider: checkoutForm.payment,\r\n      billing_is_shipping: billingIsShipping.value,\r\n    }\r\n  } else {\r\n    if (!guestForm.value.customer_name || !guestForm.value.customer_email) {\r\n      alert('Please fill all required guest fields')\r\n      return\r\n    }\r\n    payload = {\r\n      ...guestForm.value,\r\n      gift: checkoutForm.gift,\r\n      payment_provider: checkoutForm.payment,\r\n      billing_is_shipping: true,\r\n    }\r\n  }\r\n\r\n  try {\r\n    const res = await useSanctumFetch(`${config.public.apiBase}/order/place`, {\r\n      method: 'POST',\r\n      body: payload,\r\n    })\r\n    if (res?.data?.success) {\r\n      window.location.href = res.data.checkout_url\r\n    } else {\r\n      alert(res?.data?.message || 'Order submission failed')\r\n    }\r\n  } catch (e) {\r\n    console.error('Submit order failed', e)\r\n    alert('Something went wrong. Please try again.')\r\n  }\r\n}\r\n\r\n\r\n// --- Increment & Decrement helpers ---\r\nfunction increment(item: any) {\r\n  if (item.quantity < item.product.max_quantity) {\r\n    const newQty = item.quantity + 1\r\n    item.quantity = newQty\r\n    updateCartItem(item.product.sku, newQty)\r\n  }\r\n}\r\n\r\nfunction decrement(item: any) {\r\n  if (item.quantity > item.product.min_quantity) {\r\n    const newQty = item.quantity - 1\r\n    item.quantity = newQty\r\n    updateCartItem(item.product.sku, newQty)\r\n  }\r\n}\r\n\r\n// Example: convert \"₹225.00\" → \"Two Hundred Twenty-Five Rupees Only\"\r\nfunction totalInWords(amount: string) {\r\n  try {\r\n    // Remove currency symbol and commas\r\n    const num = parseFloat(amount.replace(/[₹,]/g, ''))\r\n    if (isNaN(num)) return ''\r\n    return numToWords(num) + ' only'\r\n  } catch {\r\n    return ''\r\n  }\r\n}\r\n\r\n// Simple number to words (basic)\r\nfunction numToWords(num: number): string {\r\n  const a = [\r\n    '', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine',\r\n    'Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen',\r\n    'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'\r\n  ]\r\n  const b = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety']\r\n\r\n  if ((num = Math.floor(num)) === 0) return 'Zero Rupees'\r\n\r\n  if (num < 20) return a[num] + ' Rupees'\r\n  if (num < 100) return b[Math.floor(num / 10)] + (num % 10 ? ' ' + a[num % 10] : '') + ' Rupees'\r\n  if (num < 1000) return a[Math.floor(num / 100)] + ' Hundred ' + (num % 100 ? numToWords(num % 100) : '') + ' Rupees'\r\n  if (num < 100000) return numToWords(Math.floor(num / 1000)) + ' Thousand ' + (num % 1000 ? numToWords(num % 1000) : '') + ' Rupees'\r\n  if (num < 10000000) return numToWords(Math.floor(num / 100000)) + ' Lakh ' + (num % 100000 ? numToWords(num % 100000) : '') + ' Rupees'\r\n  return numToWords(Math.floor(num / 10000000)) + ' Crore ' + (num % 10000000 ? numToWords(num % 10000000) : '') + ' Rupees'\r\n}\r\n\r\n\r\n// Example placeholder for sales list\r\nconst applicableSales = ref<any[]>([\r\n  {id: 1, title: 'Festive Discount - 10% off'},\r\n  {id: 2, title: 'Free Delivery on orders above ₹200'}\r\n])\r\n\r\n\r\n</script>\r\n"],"names":["props","__props","emit","__emit","config","useRuntimeConfig","guestForm","reactive","stateList","ref","districtList","blockList","watch","val","fetchStates","res","useSanctumFetch","fetchBlocks","blocks","b","name","url","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","$event","_vModelText","_hoisted_3","_Fragment","_renderList","state","_toDisplayString","_hoisted_4","_vModelSelect","d","_hoisted_5","block","_hoisted_6","isLoggedIn","useSanctum","isLoading","useState","toast","useToast","cartData","updateCartItem","removeItem","applyCoupon","fetchCart","useCart","couponCode","billingIsShipping","paymentProviders","suggestionProducts","checkoutForm","estimatedDelivery","computed","fetchSuggestionProducts","fetchUserAddress","providerRes","defaultProvider","p","e","userAddresses","sortedUserAddresses","a","defaultHome","_a","onAddressSelect","type","uuid","addr","submitOrder","payload","_b","increment","item","newQty","decrement","totalInWords","amount","num","numToWords","applicableSales","_unref","_createBlock","GlobalLoader","_createVNode","_component_NuxtImg","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","args","_c","_hoisted_20","_hoisted_21","sale","_component_Icon","_hoisted_22","_hoisted_23","_hoisted_24","_normalizeClass","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","Swiper","product","SwiperSlide","_hoisted_29","_component_NuxtLink","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","AddToCartButton","_hoisted_35","_hoisted_36","GuestCartForm","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_vModelCheckbox","_hoisted_47","_hoisted_48","_hoisted_49","provider","_vModelRadio","_hoisted_52","_hoisted_53"],"mappings":"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"}