{"version":3,"file":"vAht6AVc.js","sources":["../../../../node_modules/@qirolab/nuxt-sanctum-authentication/dist/runtime/middleware/guest.js"],"sourcesContent":["import { useSanctum } from \"../composables/useSanctum.js\";\nimport { useSanctumOptions } from \"../composables/useSanctumOptions.js\";\nimport { defineNuxtRouteMiddleware, navigateTo, createError } from \"#app\";\nexport default defineNuxtRouteMiddleware(async (to, _from) => {\n  const { isLoggedIn } = useSanctum();\n  const { redirect } = useSanctumOptions();\n  if (!isLoggedIn.value) return;\n  const { enableIntendedRedirect, guestOnlyRedirect } = redirect;\n  if (enableIntendedRedirect) {\n    const currentPath = to.path;\n    const requestedRoute = to.query.redirect;\n    if (requestedRoute && requestedRoute !== currentPath) {\n      return navigateTo(requestedRoute);\n    }\n  }\n  if (guestOnlyRedirect) {\n    return navigateTo(guestOnlyRedirect, { replace: true });\n  }\n  throw createError({ statusCode: 403 });\n});\n"],"names":["guest","defineNuxtRouteMiddleware","to","_from","isLoggedIn","useSanctum","redirect","useSanctumOptions","enableIntendedRedirect","guestOnlyRedirect","currentPath","requestedRoute","navigateTo","createError"],"mappings":"0mBAGA,MAAAA,EAAeC,EAA0B,MAAOC,EAAIC,IAAU,CAC5D,KAAM,CAAE,WAAAC,CAAU,EAAKC,EAAU,EAC3B,CAAE,SAAAC,CAAQ,EAAKC,EAAiB,EACtC,GAAI,CAACH,EAAW,MAAO,OACvB,KAAM,CAAE,uBAAAI,EAAwB,kBAAAC,CAAiB,EAAKH,EACtD,GAAIE,EAAwB,CAC1B,MAAME,EAAcR,EAAG,KACjBS,EAAiBT,EAAG,MAAM,SAChC,GAAIS,GAAkBA,IAAmBD,EACvC,OAAOE,EAAWD,CAAc,CAEpC,CACA,GAAIF,EACF,OAAOG,EAAWH,EAAmB,CAAE,QAAS,EAAI,CAAE,EAExD,MAAMI,EAAY,CAAE,WAAY,IAAK,CACvC,CAAC","x_google_ignoreList":[0]}