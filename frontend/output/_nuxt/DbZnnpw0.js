import{b4 as O,bd as u,br as R,bJ as G,bC as U,bA as q,ba as Y,bo as j,aW as H,aY as r,bj as k,b9 as p,b5 as e,aZ as l,b7 as V,b8 as a,bt as c,be as h,bg as B,bG as W,bh as Z,b6 as J,bl as K,bB as Q,bf as f,a_ as o,bc as X,bE as ee}from"./B132AJ_X.js";import{_ as se}from"./CzGapVpC.js";import{_ as te}from"./9ODZ5HSV.js";import{_ as le}from"./KQNRGUnb.js";import{S as T,a as D}from"./DGw0KDFv.js";/* empty css        */import{_ as F}from"./BgfMt45w.js";import"./nfvvACxY.js";import"./CxFjDksO.js";(function(){try{var d=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};d.SENTRY_RELEASE={id:"3703708ef9ac1b45e23fc2a6a145a79341d4c60a"}}catch{}})();try{(function(){var d=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},b=new d.Error().stack;b&&(d._sentryDebugIds=d._sentryDebugIds||{},d._sentryDebugIds[b]="b4b8a1c8-230a-4675-82dd-49c27a72b8d0",d._sentryDebugIdIdentifier="sentry-dbid-b4b8a1c8-230a-4675-82dd-49c27a72b8d0")})()}catch{}const ae={class:"min-h-screen bg-white dark:bg-gray-950 text-gray-800 dark:text-gray-100 py-8 px-4 md:px-12"},oe={key:1,class:"flex flex-col items-center justify-center min-h-[60vh] text-center px-6"},re={class:"text-red-600 dark:text-red-400 text-6xl mb-4"},ie={class:"text-xs text-gray-500 dark:text-gray-400 mb-6"},ne={class:"text-center mb-6"},ce={class:"relative z-10"},de={class:"inline-block mb-4"},be=["src"],ue={class:"text-3xl font-bold capitalize mb-2 text-white"},me={class:"text-sm text-gray-200"},pe={class:"text-center mb-12 max-w-2xl mx-auto"},xe={class:"text-base text-gray-700 dark:text-gray-300 leading-relaxed"},ye={key:0,class:"mb-16"},he={class:"bg-gray-100 dark:bg-gray-900 p-4 w-48 md:w-full md:h-60 rounded-lg shadow hover:shadow-lg transition hover:border-2 border-gray-400"},ve=["src"],fe={class:"text-lg font-semibold"},ge={class:"text-xs text-gray-500"},_e={class:"flex flex-row gap-6 items-center w-full"},ke={key:1},we={class:"border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow-lg transition"},Se={class:"font-semibold mb-1"},Pe={class:"text-sm text-gray-500 mb-1"},Ce={class:"text-xs text-gray-400 mb-2"},$e={class:"mb-16 w-full"},Ve={class:"flex flex-col md:flex-row gap-6 mb-8"},Be={class:"w-full md:w-1/4 space-y-6"},Te={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded-lg shadow"},De={class:"md:hidden flex justify-between items-center mb-4"},Fe={class:"w-full md:w-3/4"},Ne={class:"flex justify-between items-center mb-4"},Ae={class:"relative w-full md:w-auto"},Ie=["value"],je={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},Ee={class:"w-full h-52 mx-auto rounded mb-4"},ze={class:"font-semibold mb-1"},Le={class:"text-sm text-gray-500 mb-1"},Me={class:"text-xs text-gray-400 mb-2"},Oe={class:"text-center mt-8"},Re=["disabled"],Ge={key:2,class:"mb-16"},Ue={class:"border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow-lg transition"},qe={class:"font-semibold mb-1"},Ye={class:"text-sm text-gray-500 mb-1"},He={class:"text-xs text-gray-400 mb-2"},ls=O({__name:"[url]",setup(d){const b=u(!1),E=G();R();const N=H(),z=E.params.url,g=U("pageLoading",()=>!1),_=u(null),m=u({}),w=u([]),S=u([]),A=u([]),x=u({current_page:1,last_page:1,total:0,per_page:12}),P=u([]),y=u(null);async function C(i=1,s=""){g.value=!0,_.value=null;try{const n=await j(`${N.public.apiBase}/categories/${z}?page=${i}&sort=${s}`);m.value=n.data||{},w.value=n.top_products||[],S.value=n.latest_products||[],A.value=n.all_products||[],n.pagination&&(x.value=n.pagination)}catch(n){console.error("Category fetch error",n),_.value=n}finally{g.value=!1}}q(y,()=>{var i;return C(1,((i=y.value)==null?void 0:i.key)||"")});const L=()=>{var i;x.value.current_page<x.value.last_page&&C(x.value.current_page+1,((i=y.value)==null?void 0:i.key)||"")};return Y(async()=>{try{const i=await j(`${N.public.apiBase}/products/sorts/get`);P.value=i||[],y.value=P.value[0]||{},await C()}catch(i){console.error("Sort options fetch failed",i)}finally{g.value=!1}}),(i,s)=>{var I;const n=X,v=se,M=te,$=le;return o(),r("div",ae,[p(g)?(o(),k(ee,{key:0})):_.value?(o(),r("section",oe,[e("div",re,[l(n,{name:"mdi:alert-circle-outline"})]),s[4]||(s[4]=e("h2",{class:"text-2xl font-bold mb-2 text-red-700 dark:text-red-300"},"Category Unavailable",-1)),s[5]||(s[5]=e("p",{class:"text-sm text-red-600 dark:text-red-300 max-w-md mx-auto mb-4"}," We couldn’t load this category at the moment. It may have been removed or is temporarily unavailable. Please check the URL or try again later. ",-1)),e("p",ie,[s[2]||(s[2]=e("strong",null,"Error:",-1)),V(" "+a(_.value.message),1)]),l(v,{to:"/category"},{default:c(()=>s[3]||(s[3]=[e("button",{class:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition shadow"}," Browse Other Categories ",-1)])),_:1,__:[3]})])):(o(),r(h,{key:2},[e("section",ne,[e("div",{class:"relative py-16 px-6 bg-center bg-cover bg-no-repeat rounded-xl overflow-hidden h-96",style:W(`background-image: url(${m.value.banner})`)},[s[6]||(s[6]=e("div",{class:"absolute inset-0 bg-black/30"},null,-1)),e("div",ce,[e("div",de,[e("img",{src:m.value.thumbnail,alt:"Thumbnail",class:"w-32 h-32 rounded-full object-cover mx-auto border-4 border-white shadow"},null,8,be)]),e("h1",ue,a(m.value.name),1),e("p",me,a(m.value.views)+" views",1)])],4)]),e("section",pe,[e("p",xe,[s[7]||(s[7]=V(" Discover the finest selection in ")),e("strong",null,a(m.value.name),1),s[8]||(s[8]=V(". This category features exclusive listings curated to bring you unmatched value and quality. "))])]),(I=m.value.children)!=null&&I.length?(o(),r("section",ye,[s[9]||(s[9]=e("h2",{class:"text-2xl font-bold mb-6"},"Subcategories",-1)),l(p(D),{"slides-per-view":1,"space-between":20,breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4},1280:{slidesPerView:6}},class:"my-6"},{default:c(()=>[(o(!0),r(h,null,f(m.value.children,t=>(o(),k(p(T),{key:t.url},{default:c(()=>[l(v,{to:`/category/${t.url}`,class:"block hover:no-underline"},{default:c(()=>[e("div",he,[e("img",{src:t.thumbnail,class:"w-full h-32 object-cover rounded mb-4"},null,8,ve),e("h3",fe,a(t.name),1),e("p",ge,a(t.views)+" views",1)])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])):B("",!0),e("div",_e,[s[10]||(s[10]=e("span",{class:"grow"},null,-1)),l(M)]),S.value.length?(o(),r("section",ke,[s[11]||(s[11]=e("h2",{class:"text-2xl grow font-bold mb-6 min-w-1/2"},"Latest Arrivals",-1)),l(p(D),{"slides-per-view":1,"space-between":20,breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:6}},class:"my-6"},{default:c(()=>[(o(!0),r(h,null,f(S.value,t=>(o(),k(p(T),{key:t.url},{default:c(()=>[e("div",we,[l(v,{to:`/product/${t.url}`,class:"block"},{default:c(()=>[l($,{loading:"lazy",src:t.thumbnail,class:"h-[250px] w-full object-contain rounded mb-4"},null,8,["src"]),e("h3",Se,a(t.name),1),e("p",Pe,"$"+a(t.price),1),e("p",Ce,a(t.short_description),1)]),_:2},1032,["to"]),l(F,{sku:t.sku,quantity:1,class:"mt-2 w-full"},null,8,["sku"])])]),_:2},1024))),128))]),_:1})])):B("",!0),e("section",$e,[s[17]||(s[17]=e("div",{class:"flex flex-row items-center gap-4"},[e("h2",{class:"text-2xl font-bold mb-6 grow"},"All Products")],-1)),e("div",Ve,[e("aside",Be,[e("div",Te,[s[14]||(s[14]=e("h2",{class:"text-xl font-bold mb-4 hidden md:block"},"Filters",-1)),e("div",De,[s[12]||(s[12]=e("h2",{class:"text-xl font-bold"},"Filters",-1)),e("button",{onClick:s[0]||(s[0]=t=>b.value=!b.value),class:"flex items-center gap-2 text-blue-600 font-medium"},[l(n,{name:"mdi:filter-variant",class:"w-5 h-5"}),e("span",null,a(b.value?"Hide":"Show"),1)])]),e("div",{class:Z({hidden:!b.value,block:b.value,"md:block":!0})},s[13]||(s[13]=[J('<div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Categories</h3><ul class="space-y-1 text-sm"><li><input type="checkbox" id="food-products" class="mr-2"><label for="food-products">Food Products</label></li><li><input type="checkbox" id="dry-fruit" class="mr-2"><label for="dry-fruit">Dry Fruit, Nut &amp; Seed</label></li><li><input type="checkbox" id="dry-fruits" class="mr-2"><label for="dry-fruits">Dry Fruits</label></li><li><input type="checkbox" id="gift-pack" class="mr-2"><label for="gift-pack">Dry Fruits Gift Pack</label></li><li><input type="checkbox" id="seeds" class="mr-2"><label for="seeds">Edible Seed</label></li><li><input type="checkbox" id="mixed" class="mr-2"><label for="mixed">Mixed Dry Fruits</label></li></ul></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Price</h3><div class="flex items-center gap-2"><input type="number" placeholder="Min" class="w-1/2 px-2 py-1 rounded border text-sm"><span class="text-sm">to</span><input type="number" placeholder="Max" class="w-1/2 px-2 py-1 rounded border text-sm"></div></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Brand</h3><input type="text" placeholder="Search brand" class="w-full px-2 py-1 mb-2 rounded border text-sm"><div class="space-y-1 text-sm max-h-24 overflow-y-auto"><label><input type="checkbox" class="mr-2"> Happilo</label><br><label><input type="checkbox" class="mr-2"> Nutraj</label><br><label><input type="checkbox" class="mr-2"> Farmley</label><br></div></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Customer Ratings</h3><div class="space-y-1 text-sm"><label><input type="checkbox" class="mr-2"> 4★ &amp; above</label><br><label><input type="checkbox" class="mr-2"> 3★ &amp; above</label><br><label><input type="checkbox" class="mr-2"> 2★ &amp; above</label><br><label><input type="checkbox" class="mr-2"> 1★ &amp; above</label></div></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Offers</h3><div class="space-y-1 text-sm"><label><input type="checkbox" class="mr-2"> Buy More, Save More</label><br><label><input type="checkbox" class="mr-2"> Special Price</label></div></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Discount</h3><div class="space-y-1 text-sm"><label><input type="checkbox" class="mr-2"> 50% or more</label><br><label><input type="checkbox" class="mr-2"> 40% or more</label><br><label><input type="checkbox" class="mr-2"> 30% or more</label><br><label><input type="checkbox" class="mr-2"> 20% or more</label><br><label><input type="checkbox" class="mr-2"> 10% or more</label></div></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">GST Invoice</h3><label class="text-sm"><input type="checkbox" class="mr-2"> GST Invoice Available</label></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Availability</h3><label class="text-sm"><input type="checkbox" class="mr-2"> Include Out of Stock</label></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Container Type</h3><div class="space-y-1 text-sm max-h-24 overflow-y-auto"><label><input type="checkbox" class="mr-2"> Bag</label><br><label><input type="checkbox" class="mr-2"> Box</label><br><label><input type="checkbox" class="mr-2"> Bulk Pack</label><br><label><input type="checkbox" class="mr-2"> Can</label><br><label><input type="checkbox" class="mr-2"> Carton</label><br><label><input type="checkbox" class="mr-2"> Festive Gift Box</label></div></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Organic</h3><label><input type="radio" name="organic" class="mr-2"> Yes</label><br><label><input type="radio" name="organic" class="mr-2"> No</label></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Type</h3><input type="text" placeholder="Search Type" class="w-full px-2 py-1 mb-2 rounded border text-sm"><div class="space-y-1 text-sm max-h-24 overflow-y-auto"><label><input type="checkbox" class="mr-2"> Almonds</label><br><label><input type="checkbox" class="mr-2"> Alphalpha Seeds</label><br><label><input type="checkbox" class="mr-2"> Pumpkin Seeds</label><br></div></div><div class="mb-4"><h3 class="font-semibold text-sm mb-2 uppercase">Pack Of</h3><div class="space-y-1 text-sm"><label><input type="checkbox" class="mr-2"> 1</label><br><label><input type="checkbox" class="mr-2"> 2</label><br><label><input type="checkbox" class="mr-2"> 3</label><br><label><input type="checkbox" class="mr-2"> 4</label><br><label><input type="checkbox" class="mr-2"> 10 &amp; Above</label></div></div>',12)]),2)])]),e("div",Fe,[e("div",Ne,[s[16]||(s[16]=e("h1",{class:"text-xl font-semibold"},"All Products",-1)),e("div",Ae,[s[15]||(s[15]=e("label",{class:"sr-only",for:"sort"},"Sort By",-1)),K(e("select",{id:"sort","onUpdate:modelValue":s[1]||(s[1]=t=>y.value=t),class:"border border-gray-300 dark:border-gray-700 rounded px-4 py-2 text-sm bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 shadow-sm"},[(o(!0),r(h,null,f(P.value,t=>(o(),r("option",{key:t.name,value:t},a(t.name.replace(/([a-z])([A-Z])/g,"$1 $2").toUpperCase()),9,Ie))),128))],512),[[Q,y.value]])])]),e("div",je,[(o(!0),r(h,null,f(A.value,t=>(o(),r("div",{key:t.url,class:"border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow-md transition"},[l(v,{to:`/product/${t.url}`},{default:c(()=>[e("div",Ee,[l($,{loading:"lazy",src:t.thumbnail,class:"h-full w-full object-contain rounded mb-4"},null,8,["src"])]),e("h3",ze,a(t.name),1),e("p",Le,"$"+a(t.price),1),e("p",Me,a(t.short_description),1)]),_:2},1032,["to"]),l(F,{sku:t.sku,quantity:1},null,8,["sku"])]))),128))]),e("div",Oe,[e("button",{onClick:L,disabled:x.value.current_page>=x.value.last_page,class:"px-6 py-2 border rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition disabled:opacity-50"}," Load More ",8,Re)])])])]),w.value.length?(o(),r("section",Ge,[s[18]||(s[18]=e("h2",{class:"text-2xl font-bold mb-6"},"Top Products",-1)),l(p(D),{"slides-per-view":1,"space-between":20,breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4},1280:{slidesPerView:6}},class:"my-6"},{default:c(()=>[(o(!0),r(h,null,f(w.value,t=>(o(),k(p(T),{key:t.url},{default:c(()=>[e("div",Ue,[l(v,{to:`/product/${t.url}`,class:"block"},{default:c(()=>[l($,{loading:"lazy",src:t.thumbnail,class:"h-[250px] w-full object-contain rounded mb-4"},null,8,["src"]),e("h3",qe,a(t.name),1),e("p",Ye,"$"+a(t.price),1),e("p",He,a(t.short_description),1)]),_:2},1032,["to"]),l(F,{sku:t.sku,quantity:1,class:"mt-2 w-full"},null,8,["sku"])])]),_:2},1024))),128))]),_:1})])):B("",!0)],64))])}}});export{ls as default};
