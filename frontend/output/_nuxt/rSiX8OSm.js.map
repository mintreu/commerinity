{"version":3,"file":"rSiX8OSm.js","sources":["../../../../pages/dashboard/auth/my-mobile.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 px-4 py-8\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"w-full max-w-7xl bg-white dark:bg-gray-800 shadow-xl rounded-2xl overflow-hidden\">\r\n\r\n      <!-- Header Section -->\r\n      <div class=\"p-6 border-b border-gray-200 dark:border-gray-700 text-center\">\r\n        <h1 class=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n          {{ hasMobile ? 'Verify Your Mobile Number ðŸ“±' : 'Add Your Mobile Number ðŸ“±' }}\r\n        </h1>\r\n        <p class=\"mt-2 text-gray-600 dark:text-gray-400\">\r\n          <span v-if=\"!hasMobile\">\r\n            Please add your mobile number to secure your account and access all features.\r\n          </span>\r\n          <span v-else>\r\n            Your mobile number is not verified. Please verify it to unlock the full system.\r\n          </span>\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Info / Steps Section -->\r\n      <div class=\"p-6 space-y-4\">\r\n        <div class=\"flex items-start space-x-3\">\r\n          <span class=\"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-200 rounded-full p-2\">\r\n            1\r\n          </span>\r\n          <p class=\"text-sm text-gray-700 dark:text-gray-300\">\r\n            {{ hasMobile ? 'Verify your existing number by entering the OTP.' : 'Enter your new mobile number in the form below.' }}\r\n          </p>\r\n        </div>\r\n        <div class=\"flex items-start space-x-3\">\r\n          <span class=\"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-200 rounded-full p-2\">\r\n            2\r\n          </span>\r\n          <p class=\"text-sm text-gray-700 dark:text-gray-300\">\r\n            Weâ€™ll send you a One-Time Password (OTP) to confirm itâ€™s your number.\r\n          </p>\r\n        </div>\r\n        <div class=\"flex items-start space-x-3\">\r\n          <span class=\"bg-yellow-100 dark:bg-yellow-800 text-yellow-600 dark:text-yellow-200 rounded-full p-2\">\r\n            3\r\n          </span>\r\n          <p class=\"text-sm text-gray-700 dark:text-gray-300\">\r\n            Enter the OTP, verify, and save your mobile number.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Change Mobile Form -->\r\n      <div class=\"p-6 bg-gray-50 dark:bg-gray-900\">\r\n        <ChangeMobile />\r\n      </div>\r\n\r\n      <!-- Footer / Help -->\r\n      <div class=\"p-4 text-center border-t border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400\">\r\n        Having trouble? <a href=\"/support\" class=\"text-blue-600 dark:text-blue-400 hover:underline\">Contact Support</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { useRouter } from 'vue-router'\r\nimport ChangeMobile from \"~/components/account/ChangeMobile.vue\"\r\nimport { useSanctum } from '#imports'\r\n\r\nconst router = useRouter()\r\nconst { user } = useSanctum<User>()\r\n\r\n// âœ… Determine if user has mobile number or not\r\nconst hasMobile = computed(() => !!user.value?.mobile)\r\nconst isMobileVerified = computed(() => !!user.value?.mobile_verified)\r\n\r\n// ðŸ”¹ Redirect to dashboard if mobile is already verified\r\nwatch([hasMobile, isMobileVerified], ([has, verified]) => {\r\n  if (has && verified) {\r\n    router.replace('/dashboard')\r\n  }\r\n}, { immediate: true })\r\n\r\ndefinePageMeta({ layout: \"dashboard\" })\r\n</script>\r\n"],"names":["router","useRouter","user","useSanctum","hasMobile","computed","_a","isMobileVerified","watch","has","verified","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_unref","_hoisted_5","_hoisted_8","_hoisted_9","_cache","_hoisted_10","_hoisted_11","_createVNode","ChangeMobile"],"mappings":"8zCAmEA,MAAMA,EAASC,EAAA,EACT,CAAE,KAAAC,CAAA,EAASC,EAAA,EAGXC,EAAYC,EAAS,IAAA,OAAM,OAAC,GAACC,EAAAJ,EAAK,QAAL,MAAAI,EAAY,QAAM,EAC/CC,EAAmBF,EAAS,IAAA,OAAM,OAAC,GAACC,EAAAJ,EAAK,QAAL,MAAAI,EAAY,iBAAe,EAGrE,OAAAE,EAAM,CAACJ,EAAWG,CAAgB,EAAG,CAAC,CAACE,EAAKC,CAAQ,IAAM,CACpDD,GAAOC,GACTV,EAAO,QAAQ,YAAY,CAE/B,EAAG,CAAE,UAAW,GAAM,UA9EpBW,EAAA,EAAAC,EA0DM,MA1DNC,EA0DM,CAvDJC,EAsDM,MAtDNC,EAsDM,CAnDJD,EAYM,MAZNE,EAYM,CAXJF,EAEK,KAFLG,EAEKC,EADAC,EAAAf,CAAA,EAAS,+BAAA,2BAAA,EAAA,CAAA,EAEdU,EAOI,IAPJM,EAOI,CANWD,EAAAf,CAAA,GAGbO,EAAA,EAAAC,EAEO,SAFM,mFAEb,IALAD,EAAA,EAAAC,EAEO,SAFiB,iFAExB,EAGA,KAKJE,EAyBM,MAzBNO,EAyBM,CAxBJP,EAOM,MAPNQ,EAOM,CANJC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAT,EAEO,OAAA,CAFD,MAAM,gFAAA,EAAiF,MAE7F,EAAA,GACAA,EAEI,IAFJU,EAEIN,EADCC,EAAAf,CAAA,EAAS,mDAAA,iDAAA,EAAA,CAAA,CAAA,4jBAsBlBU,EAEM,MAFNW,EAEM,CADJC,EAAgBC,CAAA,CAAA,eAIlBb,EAEM,MAAA,CAFD,MAAM,0GAAwG,GAAC,mBAClG,EAAAA,EAA+F,IAAA,CAA5F,KAAK,WAAW,MAAM,kDAAA,EAAmD,iBAAe,CAAA"}