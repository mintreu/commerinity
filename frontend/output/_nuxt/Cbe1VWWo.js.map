{"version":3,"file":"Cbe1VWWo.js","sources":["../../../../components/sliders/ProductListSlider.vue","../../../../pages/category/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\r\nimport AddToCartButton from \"~/components/cart/AddToCartButton.vue\";\r\nimport 'swiper/css'\r\nimport { onMounted, ref, watch } from \"vue\";\r\nimport { useRuntimeConfig, useSanctumFetch } from \"#imports\";\r\n\r\nconst props = defineProps<{\r\n  label: string,\r\n  url: string,\r\n  cta?: { label: string, url?: string, action?: () => void } // optional CTA\r\n}>()\r\n\r\nconst config = useRuntimeConfig()\r\nconst items = ref<any[]>([])\r\nconst loading = ref(false)\r\n\r\nasync function fetchProducts() {\r\n  try {\r\n    loading.value = true\r\n    const res = await useSanctumFetch(`${config.public.apiBase}${props.url}`)\r\n    items.value = res.data || []\r\n  } catch (e: any) {\r\n    console.error('Product fetch error', e)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nonMounted(fetchProducts)\r\n\r\n// if `url` prop changes dynamically\r\nwatch(() => props.url, fetchProducts)\r\n</script>\r\n\r\n<template>\r\n  <section v-if=\"items.length\" class=\"mb-16\">\r\n    <div class=\"flex items-center justify-between mb-6 px-4\">\r\n      <h2 class=\"text-2xl font-bold\">{{ props.label }}</h2>\r\n\r\n      <!-- Optional CTA -->\r\n      <button\r\n          v-if=\"props.cta?.action\"\r\n          @click=\"props.cta.action\"\r\n          class=\"text-sm font-medium text-blue-600 hover:underline\"\r\n      >\r\n        {{ props.cta.label }}\r\n      </button>\r\n\r\n      <NuxtLink\r\n          v-else-if=\"props.cta?.url\"\r\n          :to=\"props.cta.url\"\r\n          class=\"text-sm font-medium text-blue-600 hover:underline\"\r\n      >\r\n        {{ props.cta.label }}\r\n      </NuxtLink>\r\n    </div>\r\n\r\n    <Swiper\r\n        :slides-per-view=\"1\"\r\n        :space-between=\"20\"\r\n        :breakpoints=\"{\r\n        640: { slidesPerView: 2 },\r\n        768: { slidesPerView: 3 },\r\n        1024: { slidesPerView: 4 },\r\n        1280: { slidesPerView: 6 }\r\n      }\"\r\n        class=\"my-6\"\r\n    >\r\n      <SwiperSlide v-for=\"product in items\" :key=\"product.url\">\r\n        <div class=\"border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow-lg transition\">\r\n          <NuxtLink :to=\"`/product/${product.url}`\" class=\"block\">\r\n            <NuxtImg\r\n                loading=\"lazy\"\r\n                :src=\"product.thumbnail\"\r\n                class=\"h-[250px] w-full object-contain rounded mb-4\"\r\n            />\r\n            <h3 class=\"font-semibold mb-1\">{{ product.name }}</h3>\r\n            <p class=\"text-sm text-gray-500 mb-1\">${{ product.price }}</p>\r\n            <p class=\"text-xs text-gray-400 mb-2\">{{ product.short_description }}</p>\r\n          </NuxtLink>\r\n\r\n          <AddToCartButton\r\n              :sku=\"product.sku\"\r\n              :quantity=\"1\"\r\n              class=\"mt-2 w-full\"\r\n          />\r\n        </div>\r\n      </SwiperSlide>\r\n    </Swiper>\r\n  </section>\r\n</template>\r\n\r\n\r\n","<template>\r\n  <div class=\"w-full text-black dark:text-white bg-white dark:bg-black\">\r\n\r\n    <!-- Hero Section -->\r\n    <section class=\"w-full h-[400px] bg-gradient-to-r from-blue-500 to-purple-600 text-white flex items-center justify-center text-center p-8\">\r\n      <div>\r\n        <h1 class=\"text-4xl md:text-6xl font-bold mb-4\">Explore Our Categories</h1>\r\n        <p class=\"text-lg md:text-xl mb-6\">Discover great deals across every department</p>\r\n        <button class=\"px-6 py-3 bg-white text-black font-semibold rounded hover:bg-gray-200 transition-all\">\r\n          Browse Products\r\n        </button>\r\n      </div>\r\n    </section>\r\n\r\n\r\n    <!-- Category Sections -->\r\n    <section\r\n        v-for=\"(category, index) in categorySections\"\r\n        :key=\"index\"\r\n        class=\"py-10 px-4 md:px-12\"\r\n    >\r\n      <div class=\"bg-gray-100 dark:bg-gray-900 rounded-xl shadow-lg p-6\">\r\n        <h2 class=\"text-2xl font-bold mb-4 text-black dark:text-white\">Best of {{ category.name }}</h2>\r\n\r\n        <Swiper\r\n            :slides-per-view=\"2\"\r\n            :space-between=\"16\"\r\n            :breakpoints=\"{\r\n            640: { slidesPerView: 3 },\r\n            768: { slidesPerView: 4 },\r\n            1024: { slidesPerView: 6 }\r\n          }\"\r\n            class=\"my-4\"\r\n        >\r\n          <SwiperSlide\r\n              v-for=\"(child, idx) in category.children\"\r\n              :key=\"idx\"\r\n          >\r\n            <NuxtLink\r\n                :to=\"`/category/${child.url}`\"\r\n                class=\"block bg-white dark:bg-gray-800 rounded-lg p-4 shadow-md hover:shadow-lg transition-all h-full\"\r\n            >\r\n              <img\r\n                  :src=\"child.image\"\r\n                  :alt=\"child.name\"\r\n                  class=\"w-full h-32 object-cover rounded-md mb-3\"\r\n              />\r\n              <p class=\"font-medium text-sm text-center text-black dark:text-white mb-1\">{{ child.name }}</p>\r\n              <p class=\"text-center text-blue-600 text-base font-semibold\">From â‚¹{{ child.starting_from_price }}</p>\r\n            </NuxtLink>\r\n          </SwiperSlide>\r\n        </Swiper>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Promo Banner -->\r\n    <section class=\"my-12 px-4 md:px-12\">\r\n      <div class=\"w-full bg-yellow-400 text-black p-8 rounded flex flex-col md:flex-row justify-between items-center shadow-md\">\r\n        <div class=\"mb-4 md:mb-0\">\r\n          <h2 class=\"text-2xl font-bold\">Mid-Year Sale is Live!</h2>\r\n          <p>Up to 70% off on selected items</p>\r\n        </div>\r\n        <button class=\"bg-black text-white px-6 py-2 rounded hover:bg-gray-800 transition-all\">Shop Deals</button>\r\n      </div>\r\n    </section>\r\n\r\n\r\n    <!-- Top products -->\r\n    <ProductListSlider\r\n        label=\"Top Products\"\r\n        url=\"/products/suggestions/get\"\r\n        :cta=\"{ label: 'See All', url: '/products' }\"\r\n    />\r\n\r\n    <!-- New arrivals with custom action -->\r\n    <ProductListSlider\r\n        label=\"New Arrivals\"\r\n        url=\"/products/suggestions/get\"\r\n        :cta=\"{ label: 'Refresh', action: () => console.log('refresh clicked') }\"\r\n    />\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    <!-- Testimonials -->\r\n    <section class=\"py-12 px-4 md:px-12 bg-gray-50 dark:bg-gray-900\">\r\n      <h2 class=\"text-2xl font-bold mb-6\">What Our Customers Say</h2>\r\n      <div class=\"grid md:grid-cols-3 gap-6\">\r\n        <div\r\n            v-for=\"n in 3\"\r\n            :key=\"n\"\r\n            class=\"bg-white dark:bg-gray-800 p-6 rounded shadow\"\r\n        >\r\n          <p class=\"italic text-sm\">\"Amazing service and quick delivery!\"</p>\r\n          <div class=\"mt-4 flex items-center gap-3\">\r\n            <div class=\"w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full\"></div>\r\n            <span class=\"font-medium\">User {{ n }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Newsletter CTA -->\r\n    <section class=\"py-12 px-4 md:px-12 bg-blue-50 dark:bg-blue-900 text-center\">\r\n      <h2 class=\"text-xl md:text-2xl font-bold mb-4\">Stay Updated</h2>\r\n      <p class=\"mb-6\">Subscribe to get updates on latest deals and offers.</p>\r\n      <div class=\"flex justify-center gap-2 max-w-md mx-auto\">\r\n        <input\r\n            type=\"email\"\r\n            placeholder=\"Enter your email\"\r\n            class=\"px-4 py-2 w-full rounded border border-gray-300 dark:border-gray-600\"\r\n        />\r\n        <button class=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\">Subscribe</button>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport { useFetch } from '#app'\r\nimport { Swiper, SwiperSlide } from 'swiper/vue'\r\nimport 'swiper/css'\r\nimport ProductListSlider from \"~/components/sliders/ProductListSlider.vue\";\r\n\r\ninterface ChildCategory {\r\n  name: string\r\n  url: string\r\n  image: string\r\n  starting_from_price: number\r\n}\r\n\r\ninterface ParentCategory {\r\n  name: string\r\n  url: string\r\n  thumbnail: string\r\n  children: ChildCategory[]\r\n}\r\n\r\n// Reactive parent + children data\r\nconst categorySections = ref<ParentCategory[]>([])\r\n\r\nconst { data, error } = await useFetch<ParentCategory[]>('http://localhost:8000/api/categories/with-products', {\r\n  credentials: 'include',\r\n})\r\n\r\nif (data.value) {\r\n  categorySections.value = data.value\r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n"],"names":["props","__props","config","useRuntimeConfig","items","ref","loading","fetchProducts","res","useSanctumFetch","e","onMounted","watch","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","_a","_cache","args","_b","_createBlock","_component_NuxtLink","_createVNode","_unref","Swiper","_Fragment","_renderList","product","SwiperSlide","_hoisted_4","_component_NuxtImg","_hoisted_5","_hoisted_6","_hoisted_7","AddToCartButton","categorySections","data","error","__temp","__restore","_withAsyncContext","useFetch","category","index","child","idx","ProductListSlider","_hoisted_8","n","_hoisted_9","_hoisted_10"],"mappings":"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"}